!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.EasyFileUpload=e()}}(function(){return function e(n,i,r){function t(o,l){if(!i[o]){if(!n[o]){var u="function"==typeof require&&require;if(!l&&u)return u(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var s=i[o]={exports:{}};n[o][0].call(s.exports,function(e){var i=n[o][1][e];return t(i?i:e)},s,s.exports,e,n,i,r)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)t(r[o]);return t}({1:[function(e,n){var i=function(e,n,i,r,t){var a=e.find(".js_list"),o=e.find(".js_fileinputs"),l=this,u=0,s=0,f={},p={emptyImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII=",errorMessageTimeout:5e3,maxFileSize:3145728,maxFileNumber:3,circleThumbnail:!1,maxRequestSize:9437184,invalidFileNameError:"Der Dateiname enthält ungültige Zeichen.",invalidFileTypeError:"Ein Dateiformat ist nicht zugelassen. Bitte wählen sie ein anderes Dateiformat.",maxRequestSizeError:"Das Datenlimit für den Upload von Dateien ist überschritten.",maxFileNumberError:"Sie können nur maximal 3 Dateien anhängen.",maxFileSizeError:"Eine Datei ist zu groß. Maximal 3 MB pro Datei sind zugelassen.",acceptedTypes:{"image/png":"PNG-Bild","image/jpeg":"JPEG-Bild","image/gif":"GIF-Bild","image/tiff":"TIFF-Bild","application/pdf":"PDF-Dokument","application/vnd.ms-excel":"Excel-Dokument","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel-Dokument","application/msword":"Word-Dokument","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"Word-Dokument"}},c=function(e){return Array.prototype.slice.call(e,0)},d=function(){return!!(window.File&&window.FileList&&window.FileReader)},m=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};for(var v in p)t&&t.hasOwnProperty(v)?(f[v]=t[v],"function"==typeof f[v]&&(f[v]=f[v].bind(l))):f[v]=p[v];var A,g=function(e){return/\.xls$/.test(e.name)&&!e.type?"application/vnd.ms-excel":e.type},h=function(e){var n,i=e.size;return i>=1099511627776?(i/=109951162777.6,n="TB"):i>=1073741824?(i/=107374182.4,n="GB"):i>=1048576?(i/=104857.6,n="MB"):i>=1024?(i/=102.4,n="kB"):(i=10*i,n="B"),Math.round(i)/10+" "+n},x=function(e){return f.acceptedTypes[g(e)]||"Unbekannt"},E=function(e){return/^image\//.test(g(e))},y=function(e){var n=$.Deferred(),i=new FileReader;return i.onload=function(i){n.resolve({data:i.target.result,nativeFile:e})},i.onerror=function(){n.reject(this)},i.readAsDataURL(e),n.promise()},F=function(e){return $.when.apply(null,e.map(function(e){return y(e)})).then(function(){return c(arguments)})},D=function(e){u+=1,s+=e.size},w=function(e){u-=1,s-=e.size},b=function(n){var i=e.find(".error");n?i.fadeOut(400,function(){i.remove()}):i.remove()},T=function(e){clearTimeout(A),A=setTimeout(function(){b(!0)},ERROR_MESSAGE_TIMEOUT),i.after($('<li class="error">'+e+"<li>"))},z=function(e){var n=!1;return u>=f.maxFileNumber&&(n=!0,T(f.maxFileNumberError)),s>=f.maxRequestSize&&(n=!0,T(f.maxRequestSizeError)),f.acceptedTypes[g(e)]||(n=!0,T(f.invalidFileTypeError)),e.size>f.maxFileSize&&(n=!0,T(f.maxFileSizeError)),/^[A-Za-z0-9.\-_ ]+$/.test(e.name)||(n=!0,T(invalidFileNameError)),!n},R=function(e,n){var i=new FileReader,r=$('<span class="thumbnail"></span>');f.circleThumbnail&&r.addClass("circle"),i.onload=function(i){var t=new Image;t.src=E(e)?i.target.result:EMPTY_IMAGE,n.prepend(r.append(t))},i.readAsDataURL(e)},B=function(e,n){var i=h(e),r=x(e),t=$('<li class="file"></li>');t.append(['<span class="label name">',e.name,'</span><span class="label size">',i,'</span><span class="label type">',r,"</span>"].join(""));var o=$("<span/>");t.append(o),o.addClass("remove"),o.on("click",function(){t.remove(),n()}),d&&R(e,t),a.append(t)},S=0,M=function(){var e=$("<input/>");S+=1,e.attr("name","fileInput"+S),e.attr("type","file"),e.addClass("fileinput"),n.prepend(e),e.on("change",function(){b(!1);var n=c($(this).prop("files"));if(n.length){var i=n[0];z(i)?(D(i),e.appendTo(o),B(i,function(){w(i),e.remove()})):e.remove(),M()}})};M();var I=function(e){b(!1);var n=c(e.originalEvent.dataTransfer.files);F(n).done(function(e){e.every(function(e){var n=e.nativeFile;if(!z(n))return!1;D(n);var i=$('<input type="hidden">');return i.val(e.data),i.attr("name","file:"+n.name),i.appendTo(o),B(n,function(){w(n),i.remove()}),!0})})};i.on("drop",function(e){m(e),$(this).removeClass("active"),I(e)}),i.on("dragenter",function(e){m(e)}),i.on("dragover",function(e){m(e),$(this).addClass("active")}),i.on("dragleave",function(e){m(e),$(this).removeClass("active")}),d||i.hide()};n.exports=i},{}]},{},[1])(1)});