!function e(n,i,r){function t(o,l){if(!i[o]){if(!n[o]){var u="function"==typeof require&&require;if(!l&&u)return u(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var s=i[o]={exports:{}};n[o][0].call(s.exports,function(e){var i=n[o][1][e];return t(i?i:e)},s,s.exports,e,n,i,r)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)t(r[o]);return t}({1:[function(e,n){var i=function(e){return Array.prototype.slice.call(e,0)},r=function(){return!!(window.File&&window.FileList&&window.FileReader)},t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},a=function(e,n,a,o,l){var u=e.find(".js_list"),s=e.find(".js_fileinputs"),c=this,p=0,f=0,m={},d={emptyImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII=",errorMessageTimeout:5e3,maxFileSize:3145728,maxFileNumber:3,circleThumbnail:!1,maxRequestSize:9437184,invalidFileNameError:"Der Dateiname enthält ungültige Zeichen.",invalidFileTypeError:"Ein Dateiformat ist nicht zugelassen. Bitte wählen sie ein anderes Dateiformat.",maxRequestSizeError:"Das Datenlimit für den Upload von Dateien ist überschritten.",maxFileNumberError:"Sie können nur maximal 3 Dateien anhängen.",maxFileSizeError:"Eine Datei ist zu groß. Maximal 3 MB pro Datei sind zugelassen.",acceptedTypes:{"image/png":"PNG-Bild","image/jpeg":"JPEG-Bild","image/gif":"GIF-Bild","image/tiff":"TIFF-Bild","application/pdf":"PDF-Dokument","application/vnd.ms-excel":"Excel-Dokument","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel-Dokument","application/msword":"Word-Dokument","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"Word-Dokument"}};for(var v in d)l.hasOwnProperty(v)?(m[v]=l[v],"function"==typeof m[v]&&(m[v]=m[v].bind(c))):m[v]=d[v];var A,g=function(e){return/\.xls$/.test(e.name)&&!e.type?"application/vnd.ms-excel":e.type},h=function(e){var n,i=e.size;return i>=1099511627776?(i/=109951162777.6,n="TB"):i>=1073741824?(i/=107374182.4,n="GB"):i>=1048576?(i/=104857.6,n="MB"):i>=1024?(i/=102.4,n="kB"):(i=10*i,n="B"),Math.round(i)/10+" "+n},E=function(e){return m.acceptedTypes[g(e)]||"Unbekannt"},x=function(e){return/^image\//.test(g(e))},F=function(e){var n=$.Deferred(),i=new FileReader;return i.onload=function(i){n.resolve({data:i.target.result,nativeFile:e})},i.onerror=function(){n.reject(this)},i.readAsDataURL(e),n.promise()},D=function(e){return $.when.apply(null,e.map(function(e){return F(e)})).then(function(){return i(arguments)})},y=function(e){p+=1,f+=e.size},T=function(e){p-=1,f-=e.size},w=function(n){var i=e.find(".error");n?i.fadeOut(400,function(){i.remove()}):i.remove()},z=function(e){clearTimeout(A),A=setTimeout(function(){w(!0)},ERROR_MESSAGE_TIMEOUT),a.after($('<li class="error">'+e+"<li>"))},b=function(e){var n=!1;return p>=m.maxFileNumber&&(n=!0,z(m.maxFileNumberError)),f>=m.maxRequestSize&&(n=!0,z(m.maxRequestSizeError)),m.acceptedTypes[g(e)]||(n=!0,z(m.invalidFileTypeError)),e.size>m.maxFileSize&&(n=!0,z(m.maxFileSizeError)),/^[A-Za-z0-9.\-_ ]+$/.test(e.name)||(n=!0,z(invalidFileNameError)),!n},R=function(e,n){var i=new FileReader,r=$('<span class="thumbnail"></span>');m.circleThumbnail&&r.addClass("circle"),i.onload=function(i){var t=new Image;t.src=x(e)?i.target.result:EMPTY_IMAGE,n.prepend(r.append(t))},i.readAsDataURL(e)},B=function(e,n){var i=h(e),t=E(e),a=$('<li class="file"></li>');a.append(['<span class="label name">',e.name,'</span><span class="label size">',i,'</span><span class="label type">',t,"</span>"].join(""));var o=$("<span/>");a.append(o),o.addClass("remove"),o.on("click",function(){a.remove(),n()}),r&&R(e,a),u.append(a)},S=0,M=function(){var e=$("<input/>");S+=1,e.attr("name","fileInput"+S),e.attr("type","file"),e.addClass("fileinput"),n.prepend(e),e.on("change",function(){w(!1);var n=i($(this).prop("files"));if(n.length){var r=n[0];b(r)?(y(r),e.appendTo(s),B(r,function(){T(r),e.remove()})):e.remove(),M()}})};M();var I=function(e){w(!1);var n=i(e.originalEvent.dataTransfer.files);D(n).done(function(e){e.every(function(e){var n=e.nativeFile;if(!b(n))return!1;y(n);var i=$('<input type="hidden">');return i.val(e.data),i.attr("name","file:"+n.name),i.appendTo(s),B(n,function(){T(n),i.remove()}),!0})})};a.on("drop",function(e){t(e),$(this).removeClass("active"),I(e)}),a.on("dragenter",function(e){t(e)}),a.on("dragover",function(e){t(e),$(this).addClass("active")}),a.on("dragleave",function(e){t(e),$(this).removeClass("active")}),r||a.hide()};n.exports=a},{}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWFzeWZvcm1maWxldXBsb2FkLmpzIiwic291cmNlcyI6WyJlYXN5Zm9ybWZpbGV1cGxvYWQuanMiXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsIkVycm9yIiwiZiIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwxLCJtb2R1bGUiLCJ0b0FycmF5Iiwib2JqZWN0IiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzbGljZSIsImhhc0ZpbGVSZWFkZXIiLCJ3aW5kb3ciLCJGaWxlIiwiRmlsZUxpc3QiLCJGaWxlUmVhZGVyIiwibm9Qcm9wYWdhdGlvbiIsInN0b3BQcm9wYWdhdGlvbiIsInByZXZlbnREZWZhdWx0IiwicmV0dXJuVmFsdWUiLCJFYXN5Rm9ybUZpbGVVcGxvYWQiLCIkZmlsZVVwbG9hZCIsIiRmaWxlU2VsZWN0IiwiJGRyb3BCb3giLCJ1cmwiLCJvcHRzIiwiJGZpbGVWaWV3IiwiZmluZCIsIiRmaWxlSW5wdXRzIiwic2VsZiIsInRoaXMiLCJmaWxlTnVtYmVyIiwicmVxdWVzdFNpemUiLCJvcHRpb25zIiwiZGVmYXVsdE9wdGlvbnMiLCJlbXB0eUltYWdlIiwiZXJyb3JNZXNzYWdlVGltZW91dCIsIm1heEZpbGVTaXplIiwibWF4RmlsZU51bWJlciIsImNpcmNsZVRodW1ibmFpbCIsIm1heFJlcXVlc3RTaXplIiwiaW52YWxpZEZpbGVOYW1lRXJyb3IiLCJpbnZhbGlkRmlsZVR5cGVFcnJvciIsIm1heFJlcXVlc3RTaXplRXJyb3IiLCJtYXhGaWxlTnVtYmVyRXJyb3IiLCJtYXhGaWxlU2l6ZUVycm9yIiwiYWNjZXB0ZWRUeXBlcyIsImltYWdlL3BuZyIsImltYWdlL2pwZWciLCJpbWFnZS9naWYiLCJpbWFnZS90aWZmIiwiYXBwbGljYXRpb24vcGRmIiwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsIiwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQiLCJhcHBsaWNhdGlvbi9tc3dvcmQiLCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudCIsImhhc093blByb3BlcnR5IiwiYmluZCIsImVycm9yVGltZW91dElkIiwiZ2V0RmlsZVR5cGUiLCJuYXRpdmVGaWxlIiwidGVzdCIsIm5hbWUiLCJ0eXBlIiwiZ2V0UmVhZGFibGVGaWxlU2l6ZSIsInN0cmluZyIsInNpemUiLCJNYXRoIiwicm91bmQiLCJnZXRSZWFkYWJsZUZpbGVUeXBlIiwiaXNJbWFnZSIsImNvbnZlcnRUb0Jhc2U2NEZpbGUiLCJkZWZlcnJlZCIsIiQiLCJEZWZlcnJlZCIsInJlYWRlciIsIm9ubG9hZCIsImV2ZW50IiwicmVzb2x2ZSIsImRhdGEiLCJ0YXJnZXQiLCJyZXN1bHQiLCJvbmVycm9yIiwicmVqZWN0IiwicmVhZEFzRGF0YVVSTCIsInByb21pc2UiLCJwYXJzZUJhc2U2NEZpbGVzIiwibmF0aXZlRmlsZXMiLCJ3aGVuIiwiYXBwbHkiLCJtYXAiLCJ0aGVuIiwiYXJndW1lbnRzIiwidHJhY2tGaWxlIiwidW50cmFja0ZpbGUiLCJyZW1vdmVFcnJvcnMiLCJmYWRlT3V0IiwiJGVycm9ycyIsInJlbW92ZSIsInNob3dFcnJvck1lc3NhZ2UiLCJlcnJvciIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJFUlJPUl9NRVNTQUdFX1RJTUVPVVQiLCJhZnRlciIsInZhbGlkYXRlRmlsZSIsImhhc0Vycm9ycyIsImFkZEZpbGVQcmV2aWV3IiwiJGZpbGVWaWV3RWxlbWVudCIsIiRpbWdXcmFwcGVyIiwiYWRkQ2xhc3MiLCJpbWFnZSIsIkltYWdlIiwic3JjIiwiRU1QVFlfSU1BR0UiLCJwcmVwZW5kIiwiYXBwZW5kIiwiYWRkRmlsZVRvVmlldyIsInJlbW92ZUhhbmRsZXIiLCJmaWxlU2l6ZSIsImZpbGVUeXBlIiwiam9pbiIsIiRyZW1vdmVCdXR0b24iLCJvbiIsImZpbGVJbnB1dElkIiwiYWRkTmV3RmlsZUlucHV0IiwiJGZpbGVJbnB1dCIsImF0dHIiLCJwcm9wIiwiYXBwZW5kVG8iLCJjcmVhdGVEbmRIYW5kbGVyIiwib3JpZ2luYWxFdmVudCIsImRhdGFUcmFuc2ZlciIsImZpbGVzIiwiZG9uZSIsImJhc2U2NEZpbGVzIiwiZXZlcnkiLCJiYXNlNjRGaWxlIiwiJGhpZGRlbkRhdGFGaWVsZCIsInZhbCIsInJlbW92ZUNsYXNzIiwiaGlkZSJdLCJtYXBwaW5ncyI6IkNBQUEsUUFBVUEsR0FBRUMsRUFBRUMsRUFBRUMsR0FBRyxRQUFTQyxHQUFFQyxFQUFFQyxHQUFHLElBQUlKLEVBQUVHLEdBQUcsQ0FBQyxJQUFJSixFQUFFSSxHQUFHLENBQUMsR0FBSUUsR0FBa0Isa0JBQVRDLFVBQXFCQSxPQUFRLEtBQUlGLEdBQUdDLEVBQUUsTUFBT0EsR0FBRUYsR0FBRSxFQUFJLElBQUdJLEVBQUUsTUFBT0EsR0FBRUosR0FBRSxFQUFJLE1BQU0sSUFBSUssT0FBTSx1QkFBdUJMLEVBQUUsS0FBSyxHQUFJTSxHQUFFVCxFQUFFRyxJQUFJTyxXQUFZWCxHQUFFSSxHQUFHLEdBQUdRLEtBQUtGLEVBQUVDLFFBQVEsU0FBU1osR0FBRyxHQUFJRSxHQUFFRCxFQUFFSSxHQUFHLEdBQUdMLEVBQUcsT0FBT0ksR0FBRUYsRUFBRUEsRUFBRUYsSUFBSVcsRUFBRUEsRUFBRUMsUUFBUVosRUFBRUMsRUFBRUMsRUFBRUMsR0FBRyxNQUFPRCxHQUFFRyxHQUFHTyxRQUFrRCxJQUFJLEdBQTFDSCxHQUFrQixrQkFBVEQsVUFBcUJBLFFBQWdCSCxFQUFFLEVBQUVBLEVBQUVGLEVBQUVXLE9BQU9ULElBQUlELEVBQUVELEVBQUVFLEdBQUksT0FBT0QsS0FBS1csR0FBRyxTQUFTUCxFQUFRUSxHQUM5YSxHQUFJQyxHQUFVLFNBQVNDLEdBQ3RCLE1BQU9DLE9BQU1DLFVBQVVDLE1BQU1SLEtBQUtLLEVBQVEsSUFHdkNJLEVBQWdCLFdBQ25CLFNBQVVDLE9BQU9DLE1BQVFELE9BQU9FLFVBQVlGLE9BQU9H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LEdBQ2pDN0QsRUFBYzZELEtBR2Z0RCxFQUFTb0csR0FBRyxXQUFZLFNBQVM5QyxHQUNoQzdELEVBQWM2RCxHQUNkSixFQUFFM0MsTUFBTWdGLFNBQVMsWUFHbEJ2RixFQUFTb0csR0FBRyxZQUFhLFNBQVM5QyxHQUNqQzdELEVBQWM2RCxHQUNkSixFQUFFM0MsTUFBTThHLFlBQVksWUFHaEJqSSxHQUNKWSxFQUFTc0gsT0FJWHhJLEdBQU9KLFFBQVVtQixZQUdOIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIHRvQXJyYXkgPSBmdW5jdGlvbihvYmplY3QpIHtcblx0cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG9iamVjdCwgMCk7XG59O1xuXG52YXIgaGFzRmlsZVJlYWRlciA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gISEod2luZG93LkZpbGUgJiYgd2luZG93LkZpbGVMaXN0ICYmIHdpbmRvdy5GaWxlUmVhZGVyKTtcbn07XG5cbnZhciBub1Byb3BhZ2F0aW9uID0gZnVuY3Rpb24oZSkge1xuXHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuXHRcdHJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcblx0fVxufTtcblxuLyoqXG4gKiBbRWFzeUZvcm1GaWxlVXBsb2FkIGRlc2NyaXB0aW9uXVxuICogQHBhcmFtIHtbdHlwZV19ICRmaWxlVXBsb2FkIFtkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSB7W3R5cGVdfSAkZmlsZVNlbGVjdCBbZGVzY3JpcHRpb25dXG4gKiBAcGFyYW0ge1t0eXBlXX0gJGRyb3BCb3ggICAgW2Rlc2NyaXB0aW9uXVxuICogQHBhcmFtIHtbdHlwZV19IHVybCAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSB7W3R5cGVdfSBvcHRzICAgICAgICBbZGVzY3JpcHRpb25dXG4gKi9cbnZhciBFYXN5Rm9ybUZpbGVVcGxvYWQgPSBmdW5jdGlvbigkZmlsZVVwbG9hZCwgJGZpbGVTZWxlY3QsICRkcm9wQm94LCB1cmwsIG9wdHMpIHtcblxuXHR2YXIgJGZpbGVWaWV3ICAgPSAkZmlsZVVwbG9hZC5maW5kKCcuanNfbGlzdCcpO1xuXHR2YXIgJGZpbGVJbnB1dHMgPSAkZmlsZVVwbG9hZC5maW5kKCcuanNfZmlsZWlucHV0cycpO1xuXG5cdHZhciBzZWxmICAgICAgICA9IHRoaXM7XG5cdHZhciBmaWxlTnVtYmVyICA9IDA7XG5cdHZhciByZXF1ZXN0U2l6ZSA9IDA7XG5cdHZhciBvcHRpb25zICAgICA9IHt9O1xuXG5cdHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcblxuXHRcdC8qKlxuXHRcdCAqIFtlbXB0eUltYWdlIGRlc2NyaXB0aW9uXVxuXHRcdCAqIEB0eXBlIHtTdHJpbmd9XG5cdFx0ICovXG5cdFx0ZW1wdHlJbWFnZTogJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkFRTUFBQUFsMjFiS0FBQUFBMUJNVkVVQUFBQ25lajNhQUFBQUFYUlNUbE1BUU9iWVpnQUFBQXBKUkVGVUNOZGpZQUFBQUFJQUFlSWh2RE1BQUFBQVNVVk9SSzVDWUlJPScsXG5cblx0XHQvKipcblx0XHQgKiBbZXJyb3JNZXNzYWdlVGltZW91dCBkZXNjcmlwdGlvbl1cblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqL1xuXHRcdGVycm9yTWVzc2FnZVRpbWVvdXQ6IDUwMDAsXG5cblx0XHQvKipcblx0XHQgKiBbbWF4RmlsZVNpemUgZGVzY3JpcHRpb25dXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKi9cblx0XHRtYXhGaWxlU2l6ZTogMzE0NTcyOCxcblxuXHRcdC8qKlxuXHRcdCAqIFttYXhGaWxlTnVtYmVyIGRlc2NyaXB0aW9uXVxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICovXG5cdFx0bWF4RmlsZU51bWJlcjogMyxcblxuXHRcdC8qKlxuXHRcdCAqIFtyb3VuZGVkVGh1bWJuYWlsIGRlc2NyaXB0aW9uXVxuXHRcdCAqIEB0eXBlIHtCb29sZWFufVxuXHRcdCAqL1xuXHRcdGNpcmNsZVRodW1ibmFpbDogZmFsc2UsXG5cblx0XHQvKipcblx0XHQgKiBbbWF4UmVxdWVzdFNpemUgZGVzY3JpcHRpb25dXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKi9cblx0XHRtYXhSZXF1ZXN0U2l6ZTogOTQzNzE4NCxcblxuXHRcdC8qKlxuXHRcdCAqIFtpbnZhbGlkRmlsZU5hbWVFcnJvciBkZXNjcmlwdGlvbl1cblx0XHQgKiBAdHlwZSB7U3RyaW5nfVxuXHRcdCAqL1xuXHRcdGludmFsaWRGaWxlTmFtZUVycm9yOiAnRGVyIERhdGVpbmFtZSBlbnRow6RsdCB1bmfDvGx0aWdlIFplaWNoZW4uJyxcblxuXHRcdC8qKlxuXHRcdCAqIFtpbnZhbGlkRmlsZVR5cGVFcnJvciBkZXNjcmlwdGlvbl1cblx0XHQgKiBAdHlwZSB7U3RyaW5nfVxuXHRcdCAqL1xuXHRcdGludmFsaWRGaWxlVHlwZUVycm9yOiAnRWluIERhdGVpZm9ybWF0IGlzdCBuaWNodCB6dWdlbGFzc2VuLiBCaXR0ZSB3w6RobGVuIHNpZSBlaW4gYW5kZXJlcyBEYXRlaWZvcm1hdC4nLFxuXG5cdFx0LyoqXG5cdFx0ICogW21heFJlcXVlc3RTaXplRXJyb3IgZGVzY3JpcHRpb25dXG5cdFx0ICogQHR5cGUge1N0cmluZ31cblx0XHQgKi9cblx0XHRtYXhSZXF1ZXN0U2l6ZUVycm9yOiAnRGFzIERhdGVubGltaXQgZsO8ciBkZW4gVXBsb2FkIHZvbiBEYXRlaWVuIGlzdCDDvGJlcnNjaHJpdHRlbi4nLFxuXG5cdFx0LyoqXG5cdFx0ICogW21heEZpbGVOdW1iZXJFcnJvciBkZXNjcmlwdGlvbl1cblx0XHQgKiBAdHlwZSB7U3RyaW5nfVxuXHRcdCAqL1xuXHRcdG1heEZpbGVOdW1iZXJFcnJvcjogJ1NpZSBrw7ZubmVuIG51ciBtYXhpbWFsIDMgRGF0ZWllbiBhbmjDpG5nZW4uJyxcblxuXHRcdC8qKlxuXHRcdCAqIFttYXhGaWxlU2l6ZUVycm9yIGRlc2NyaXB0aW9uXVxuXHRcdCAqIEB0eXBlIHtTdHJpbmd9XG5cdFx0ICovXG5cdFx0bWF4RmlsZVNpemVFcnJvcjogJ0VpbmUgRGF0ZWkgaXN0IHp1IGdyb8OfLiBNYXhpbWFsIDMgTUIgcHJvIERhdGVpIHNpbmQgenVnZWxhc3Nlbi4nLFxuXG5cdFx0LyoqXG5cdFx0ICogW2FjY2VwdGVkVHlwZXMgZGVzY3JpcHRpb25dXG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKi9cblx0XHRhY2NlcHRlZFR5cGVzOiB7XG5cdFx0XHQnaW1hZ2UvcG5nJzogJ1BORy1CaWxkJyxcblx0XHRcdCdpbWFnZS9qcGVnJzogJ0pQRUctQmlsZCcsXG5cdFx0XHQnaW1hZ2UvZ2lmJzogJ0dJRi1CaWxkJyxcblx0XHRcdCdpbWFnZS90aWZmJzogJ1RJRkYtQmlsZCcsXG5cdFx0XHQnYXBwbGljYXRpb24vcGRmJzogJ1BERi1Eb2t1bWVudCcsXG5cdFx0XHQnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsJzogJ0V4Y2VsLURva3VtZW50Jyxcblx0XHRcdCdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldCc6ICdFeGNlbC1Eb2t1bWVudCcsXG5cdFx0XHQnYXBwbGljYXRpb24vbXN3b3JkJzogJ1dvcmQtRG9rdW1lbnQnLFxuXHRcdFx0J2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50JzogJ1dvcmQtRG9rdW1lbnQnXG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBNZXJnZSBkZWZhdWx0b3B0aW9ucyBhbmQgdXNlcm9wdGlvbnMgaW4gb25lIG9iamVjdFxuXHQgKi9cblx0Zm9yICh2YXIgaSBpbiBkZWZhdWx0T3B0aW9ucykge1xuXHRcdGlmKG9wdHMuaGFzT3duUHJvcGVydHkoaSkpIHtcblx0XHRcdG9wdGlvbnNbaV0gPSBvcHRzW2ldO1xuXHRcdFx0aWYgKHR5cGVvZihvcHRpb25zW2ldKSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRvcHRpb25zW2ldID0gb3B0aW9uc1tpXS5iaW5kKHNlbGYpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZXtcblx0XHRcdG9wdGlvbnNbaV0gPSBkZWZhdWx0T3B0aW9uc1tpXTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgRmlsZXR5cGVcblx0ICogQHBhcmFtICB7W3R5cGVdfSBuYXRpdmVGaWxlIFtkZXNjcmlwdGlvbl1cblx0ICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cblx0ICovXG5cdHZhciBnZXRGaWxlVHlwZSA9IGZ1bmN0aW9uIChuYXRpdmVGaWxlKSB7XG5cdFx0Ly8gRml4IGNocm9taXVtIGlzc3VlIDEwNTM4MjogRXhjZWwgKC54bHMpIEZpbGVSZWFkZXIgbWltZSB0eXBlIGlzIGVtcHR5LlxuXHRcdGlmICgoL1xcLnhscyQvKS50ZXN0KG5hdGl2ZUZpbGUubmFtZSkgJiYgIW5hdGl2ZUZpbGUudHlwZSkge1xuXHRcdFx0cmV0dXJuICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwnO1xuXHRcdH1cblx0XHRyZXR1cm4gbmF0aXZlRmlsZS50eXBlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBUYWtlcyB0aGUgbmF0aXZlIGZpbGVzaXplIGluIGJ5dGVzIGFuZCByZXR1cm5zIHRoZSBwcmV0dGlmaWVkIGZpbGVzaXplXG5cdCAqIEBwYXJhbSAge1t0eXBlXX0gbmF0aXZlRmlsZSBbZGVzY3JpcHRpb25dXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICBbZGVzY3JpcHRpb25dXG5cdCAqL1xuXHR2YXIgZ2V0UmVhZGFibGVGaWxlU2l6ZSA9IGZ1bmN0aW9uKG5hdGl2ZUZpbGUpIHtcblx0XHR2YXIgc2l6ZSA9IG5hdGl2ZUZpbGUuc2l6ZTtcblxuXHRcdHZhciBzdHJpbmc7XG5cblx0XHRpZiAoc2l6ZSA+PSAxMDI0ICogMTAyNCAqIDEwMjQgKiAxMDI0ICkge1xuXHRcdFx0c2l6ZSA9IHNpemUgLyAoMTAyNCAqIDEwMjQgKiAxMDI0ICogMTAyNCAvIDEwKTtcblx0XHRcdHN0cmluZyA9ICdUQic7XG5cdFx0fSBlbHNlIGlmIChzaXplID49IDEwMjQgKiAxMDI0ICogMTAyNCApIHtcblx0XHRcdHNpemUgPSBzaXplIC8gKDEwMjQgKiAxMDI0ICogMTAyNCAvIDEwKTtcblx0XHRcdHN0cmluZyA9ICdHQic7XG5cdFx0fSBlbHNlIGlmIChzaXplID49IDEwMjQgKiAxMDI0KSB7XG5cdFx0XHRzaXplID0gc2l6ZSAvICgxMDI0ICogMTAyNCAvIDEwKTtcblx0XHRcdHN0cmluZyA9ICdNQic7XG5cdFx0fSBlbHNlIGlmIChzaXplID49IDEwMjQpIHtcblx0XHRcdHNpemUgPSBzaXplIC8gKDEwMjQgLyAxMCk7XG5cdFx0XHRzdHJpbmcgPSAna0InO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzaXplID0gc2l6ZSAqIDEwO1xuXHRcdFx0c3RyaW5nID0gJ0InO1xuXHRcdH1cblxuXHRcdHJldHVybiAoTWF0aC5yb3VuZChzaXplKSAvIDEwKSArICcgJyArIHN0cmluZztcblx0fTtcblxuXHQvKipcblx0ICogW2dldFJlYWRhYmxlRmlsZVR5cGUgZGVzY3JpcHRpb25dXG5cdCAqIEBwYXJhbSAge1t0eXBlXX0gbmF0aXZlRmlsZSBbZGVzY3JpcHRpb25dXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICBbZGVzY3JpcHRpb25dXG5cdCAqL1xuXHR2YXIgZ2V0UmVhZGFibGVGaWxlVHlwZSA9IGZ1bmN0aW9uIChuYXRpdmVGaWxlKSB7XG5cdFx0cmV0dXJuIG9wdGlvbnMuYWNjZXB0ZWRUeXBlc1tnZXRGaWxlVHlwZShuYXRpdmVGaWxlKV0gfHwgJ1VuYmVrYW5udCc7XG5cdH07XG5cblx0dmFyIGlzSW1hZ2UgPSBmdW5jdGlvbihuYXRpdmVGaWxlKSB7XG5cdFx0cmV0dXJuICgvXmltYWdlXFwvLykudGVzdChnZXRGaWxlVHlwZShuYXRpdmVGaWxlKSk7XG5cdH07XG5cblx0dmFyIGNvbnZlcnRUb0Jhc2U2NEZpbGUgPSBmdW5jdGlvbiAobmF0aXZlRmlsZSkge1xuXHRcdHZhciBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcblx0XHR2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuXHRcdHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRcdGRlZmVycmVkLnJlc29sdmUoe1xuXHRcdFx0XHRkYXRhOiBldmVudC50YXJnZXQucmVzdWx0LFxuXHRcdFx0XHRuYXRpdmVGaWxlIDogbmF0aXZlRmlsZVxuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKXtcblx0XHRcdGRlZmVycmVkLnJlamVjdCh0aGlzKTtcblx0XHR9O1xuXG5cdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwobmF0aXZlRmlsZSk7XG5cblx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xuXHR9O1xuXG5cdHZhciBwYXJzZUJhc2U2NEZpbGVzID0gZnVuY3Rpb24gKG5hdGl2ZUZpbGVzKSB7XG5cdFx0cmV0dXJuICQud2hlbi5hcHBseShudWxsLCBuYXRpdmVGaWxlcy5tYXAoZnVuY3Rpb24gKG5hdGl2ZUZpbGUpIHtcblx0XHRcdHJldHVybiBjb252ZXJ0VG9CYXNlNjRGaWxlKG5hdGl2ZUZpbGUpO1xuXHRcdH0pKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiB0b0FycmF5KGFyZ3VtZW50cyk7XG5cdFx0fSk7XG5cdH07XG5cblx0dmFyIHRyYWNrRmlsZSA9IGZ1bmN0aW9uIChuYXRpdmVGaWxlKSB7XG5cdFx0ZmlsZU51bWJlciArPSAxO1xuXHRcdHJlcXVlc3RTaXplICs9IG5hdGl2ZUZpbGUuc2l6ZTtcblx0fTtcblxuXHR2YXIgdW50cmFja0ZpbGUgPSBmdW5jdGlvbiAobmF0aXZlRmlsZSkge1xuXHRcdGZpbGVOdW1iZXIgLT0gMTtcblx0XHRyZXF1ZXN0U2l6ZSAtPSBuYXRpdmVGaWxlLnNpemU7XG5cdH07XG5cblx0dmFyIHJlbW92ZUVycm9ycyA9IGZ1bmN0aW9uIChmYWRlT3V0KSB7XG5cdFx0dmFyICRlcnJvcnMgPSAkZmlsZVVwbG9hZC5maW5kKCcuZXJyb3InKTtcblxuXHRcdGlmIChmYWRlT3V0KSB7XG5cdFx0XHQkZXJyb3JzLmZhZGVPdXQoNDAwLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCRlcnJvcnMucmVtb3ZlKCk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JGVycm9ycy5yZW1vdmUoKTtcblx0XHR9XG5cdH07XG5cblx0dmFyIGVycm9yVGltZW91dElkO1xuXG5cdHZhciBzaG93RXJyb3JNZXNzYWdlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdFx0Y2xlYXJUaW1lb3V0KGVycm9yVGltZW91dElkKTtcblxuXHRcdGVycm9yVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVFcnJvcnModHJ1ZSk7XG5cdFx0fSwgRVJST1JfTUVTU0FHRV9USU1FT1VUKTtcblxuXHRcdCRkcm9wQm94LmFmdGVyKCQoJzxsaSBjbGFzcz1cImVycm9yXCI+JyArIGVycm9yICsgJzxsaT4nKSk7XG5cdH07XG5cblx0dmFyIHZhbGlkYXRlRmlsZSA9IGZ1bmN0aW9uKG5hdGl2ZUZpbGUpIHtcblx0XHR2YXIgaGFzRXJyb3JzID0gZmFsc2U7XG5cblx0XHRpZiAoZmlsZU51bWJlciA+PSBvcHRpb25zLm1heEZpbGVOdW1iZXIpIHtcblx0XHRcdGhhc0Vycm9ycyA9IHRydWU7XG5cdFx0XHRzaG93RXJyb3JNZXNzYWdlKG9wdGlvbnMubWF4RmlsZU51bWJlckVycm9yKTtcblx0XHR9XG5cblx0XHRpZiAocmVxdWVzdFNpemUgPj0gb3B0aW9ucy5tYXhSZXF1ZXN0U2l6ZSkge1xuXHRcdFx0aGFzRXJyb3JzID0gdHJ1ZTtcblx0XHRcdHNob3dFcnJvck1lc3NhZ2Uob3B0aW9ucy5tYXhSZXF1ZXN0U2l6ZUVycm9yKTtcblx0XHR9XG5cblx0XHRpZiAoIW9wdGlvbnMuYWNjZXB0ZWRUeXBlc1tnZXRGaWxlVHlwZShuYXRpdmVGaWxlKV0pIHtcblx0XHRcdGhhc0Vycm9ycyA9IHRydWU7XG5cdFx0XHRzaG93RXJyb3JNZXNzYWdlKG9wdGlvbnMuaW52YWxpZEZpbGVUeXBlRXJyb3IpO1xuXHRcdH1cblxuXHRcdGlmIChuYXRpdmVGaWxlLnNpemUgPiBvcHRpb25zLm1heEZpbGVTaXplKSB7XG5cdFx0XHRoYXNFcnJvcnMgPSB0cnVlO1xuXHRcdFx0c2hvd0Vycm9yTWVzc2FnZShvcHRpb25zLm1heEZpbGVTaXplRXJyb3IpO1xuXHRcdH1cblxuXHRcdGlmICghKC9eW0EtWmEtejAtOS5cXC1fIF0rJC8pLnRlc3QobmF0aXZlRmlsZS5uYW1lKSkge1xuXHRcdFx0aGFzRXJyb3JzID0gdHJ1ZTtcblx0XHRcdHNob3dFcnJvck1lc3NhZ2UoaW52YWxpZEZpbGVOYW1lRXJyb3IpO1xuXHRcdH1cblxuXHRcdHJldHVybiAhaGFzRXJyb3JzO1xuXHR9O1xuXG5cdHZhciBhZGRGaWxlUHJldmlldyA9IGZ1bmN0aW9uKG5hdGl2ZUZpbGUsICRmaWxlVmlld0VsZW1lbnQpIHtcblx0XHR2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuXHRcdHZhciAkaW1nV3JhcHBlciA9ICQoJzxzcGFuIGNsYXNzPVwidGh1bWJuYWlsXCI+PC9zcGFuPicpO1xuXG5cdFx0aWYoISFvcHRpb25zLmNpcmNsZVRodW1ibmFpbCl7XG5cdFx0XHQkaW1nV3JhcHBlci5hZGRDbGFzcygnY2lyY2xlJyk7XG5cdFx0fVxuXG5cdFx0cmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdFx0dmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG5cblx0XHRcdGlmIChpc0ltYWdlKG5hdGl2ZUZpbGUpKSB7XG5cdFx0XHRcdGltYWdlLnNyYyA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpbWFnZS5zcmMgPSBFTVBUWV9JTUFHRTtcblx0XHRcdH1cblxuXHRcdFx0JGZpbGVWaWV3RWxlbWVudC5wcmVwZW5kKCRpbWdXcmFwcGVyLmFwcGVuZChpbWFnZSkpO1xuXHRcdH07XG5cblx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTChuYXRpdmVGaWxlKTtcblx0fTtcblxuXHR2YXIgYWRkRmlsZVRvVmlldyA9IGZ1bmN0aW9uKG5hdGl2ZUZpbGUsIHJlbW92ZUhhbmRsZXIpIHtcblx0XHR2YXIgZmlsZVNpemUgPSBnZXRSZWFkYWJsZUZpbGVTaXplKG5hdGl2ZUZpbGUpO1xuXHRcdHZhciBmaWxlVHlwZSA9IGdldFJlYWRhYmxlRmlsZVR5cGUobmF0aXZlRmlsZSk7XG5cblx0XHR2YXIgJGZpbGVWaWV3RWxlbWVudCA9ICQoJzxsaSBjbGFzcz1cImZpbGVcIj48L2xpPicpO1xuXG5cdFx0JGZpbGVWaWV3RWxlbWVudC5hcHBlbmQoW1xuXHRcdFx0JzxzcGFuIGNsYXNzPVwibGFiZWwgbmFtZVwiPicsXG5cdFx0XHRuYXRpdmVGaWxlLm5hbWUsXG5cdFx0XHQnPC9zcGFuPjxzcGFuIGNsYXNzPVwibGFiZWwgc2l6ZVwiPicsXG5cdFx0XHRmaWxlU2l6ZSxcblx0XHRcdCc8L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbCB0eXBlXCI+Jyxcblx0XHRcdGZpbGVUeXBlLFxuXHRcdFx0Jzwvc3Bhbj4nXG5cdFx0XS5qb2luKCcnKSk7XG5cblx0XHR2YXIgJHJlbW92ZUJ1dHRvbiA9ICQoJzxzcGFuLz4nKTtcblxuXHRcdCRmaWxlVmlld0VsZW1lbnQuYXBwZW5kKCRyZW1vdmVCdXR0b24pO1xuXG5cdFx0JHJlbW92ZUJ1dHRvbi5hZGRDbGFzcygncmVtb3ZlJyk7XG5cblx0XHQkcmVtb3ZlQnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0XHRcdCRmaWxlVmlld0VsZW1lbnQucmVtb3ZlKCk7XG5cblx0XHRcdHJlbW92ZUhhbmRsZXIoKTtcblx0XHR9KTtcblxuXHRcdGlmIChoYXNGaWxlUmVhZGVyKSB7XG5cdFx0XHRhZGRGaWxlUHJldmlldyhuYXRpdmVGaWxlLCAkZmlsZVZpZXdFbGVtZW50KTtcblx0XHR9XG5cblx0XHQkZmlsZVZpZXcuYXBwZW5kKCRmaWxlVmlld0VsZW1lbnQpO1xuXHR9O1xuXG5cdHZhciBmaWxlSW5wdXRJZCA9IDA7XG5cblx0dmFyIGFkZE5ld0ZpbGVJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgJGZpbGVJbnB1dCA9ICQoJzxpbnB1dC8+Jyk7XG5cblx0XHRmaWxlSW5wdXRJZCArPSAxO1xuXG5cdFx0JGZpbGVJbnB1dC5hdHRyKCduYW1lJywgJ2ZpbGVJbnB1dCcgKyBmaWxlSW5wdXRJZCk7XG5cdFx0JGZpbGVJbnB1dC5hdHRyKCd0eXBlJywgJ2ZpbGUnKTtcblx0XHQkZmlsZUlucHV0LmFkZENsYXNzKCdmaWxlaW5wdXQnKTtcblxuXHRcdCRmaWxlU2VsZWN0LnByZXBlbmQoJGZpbGVJbnB1dCk7XG5cblx0XHQkZmlsZUlucHV0Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVFcnJvcnMoZmFsc2UpO1xuXG5cdFx0XHR2YXIgbmF0aXZlRmlsZXMgPSB0b0FycmF5KCQodGhpcykucHJvcCgnZmlsZXMnKSk7XG5cblx0XHRcdGlmICghbmF0aXZlRmlsZXMubGVuZ3RoKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIG5hdGl2ZUZpbGUgPSBuYXRpdmVGaWxlc1swXTtcblxuXHRcdFx0aWYgKCF2YWxpZGF0ZUZpbGUobmF0aXZlRmlsZSkpIHtcblx0XHRcdFx0JGZpbGVJbnB1dC5yZW1vdmUoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRyYWNrRmlsZShuYXRpdmVGaWxlKTtcblxuXHRcdFx0XHQkZmlsZUlucHV0LmFwcGVuZFRvKCRmaWxlSW5wdXRzKTtcblxuXHRcdFx0XHRhZGRGaWxlVG9WaWV3KG5hdGl2ZUZpbGUsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR1bnRyYWNrRmlsZShuYXRpdmVGaWxlKTtcblxuXHRcdFx0XHRcdCRmaWxlSW5wdXQucmVtb3ZlKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRhZGROZXdGaWxlSW5wdXQoKTtcblx0XHR9KTtcblx0fTtcblxuXHRhZGROZXdGaWxlSW5wdXQoKTtcblxuXHR2YXIgY3JlYXRlRG5kSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdHJlbW92ZUVycm9ycyhmYWxzZSk7XG5cblx0XHR2YXIgbmF0aXZlRmlsZXMgPSB0b0FycmF5KGV2ZW50Lm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzKTtcblxuXHRcdHBhcnNlQmFzZTY0RmlsZXMobmF0aXZlRmlsZXMpLmRvbmUoZnVuY3Rpb24gKGJhc2U2NEZpbGVzKSB7XG5cdFx0XHRiYXNlNjRGaWxlcy5ldmVyeShmdW5jdGlvbiAoYmFzZTY0RmlsZSkge1xuXHRcdFx0XHR2YXIgbmF0aXZlRmlsZSA9IGJhc2U2NEZpbGUubmF0aXZlRmlsZTtcblxuXHRcdFx0XHRpZiAoIXZhbGlkYXRlRmlsZShuYXRpdmVGaWxlKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRyYWNrRmlsZShuYXRpdmVGaWxlKTtcblxuXHRcdFx0XHR2YXIgJGhpZGRlbkRhdGFGaWVsZCA9ICQoJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCI+Jyk7XG5cblx0XHRcdFx0JGhpZGRlbkRhdGFGaWVsZC52YWwoYmFzZTY0RmlsZS5kYXRhKTtcblx0XHRcdFx0JGhpZGRlbkRhdGFGaWVsZC5hdHRyKCduYW1lJywgJ2ZpbGU6JyArIG5hdGl2ZUZpbGUubmFtZSk7XG5cdFx0XHRcdCRoaWRkZW5EYXRhRmllbGQuYXBwZW5kVG8oJGZpbGVJbnB1dHMpO1xuXG5cdFx0XHRcdGFkZEZpbGVUb1ZpZXcobmF0aXZlRmlsZSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHVudHJhY2tGaWxlKG5hdGl2ZUZpbGUpO1xuXG5cdFx0XHRcdFx0JGhpZGRlbkRhdGFGaWVsZC5yZW1vdmUoKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fTtcblxuXHQkZHJvcEJveC5vbignZHJvcCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0bm9Qcm9wYWdhdGlvbihldmVudCk7XG5cdFx0JCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdFx0Y3JlYXRlRG5kSGFuZGxlcihldmVudCk7XG5cdH0pO1xuXG5cdCRkcm9wQm94Lm9uKCdkcmFnZW50ZXInLCBmdW5jdGlvbihldmVudCkge1xuXHRcdG5vUHJvcGFnYXRpb24oZXZlbnQpO1xuXHR9KTtcblxuXHQkZHJvcEJveC5vbignZHJhZ292ZXInLCBmdW5jdGlvbihldmVudCkge1xuXHRcdG5vUHJvcGFnYXRpb24oZXZlbnQpO1xuXHRcdCQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXHR9KTtcblxuXHQkZHJvcEJveC5vbignZHJhZ2xlYXZlJywgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRub1Byb3BhZ2F0aW9uKGV2ZW50KTtcblx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0fSk7XG5cblx0aWYgKCFoYXNGaWxlUmVhZGVyKSB7XG5cdFx0JGRyb3BCb3guaGlkZSgpO1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEVhc3lGb3JtRmlsZVVwbG9hZDtcblxuXG59LHt9XX0se30sWzFdKSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==