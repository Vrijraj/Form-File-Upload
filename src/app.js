!function e(i,n,r){function o(l,a){if(!n[l]){if(!i[l]){var f="function"==typeof require&&require;if(!a&&f)return f(l,!0);if(t)return t(l,!0);throw new Error("Cannot find module '"+l+"'")}var s=n[l]={exports:{}};i[l][0].call(s.exports,function(e){var n=i[l][1][e];return o(n?n:e)},s,s.exports,e,i,n,r)}return n[l].exports}for(var t="function"==typeof require&&require,l=0;l<r.length;l++)o(r[l]);return o}({1:[function(e){var i=e("./lib/fileupload.js"),n=function(){{var e=$(this),n=e.find(".js_fileupload"),r=n.find(".js_dropbox"),o=n.find(".js_previewList"),t=n.find(".js_fileinput"),l={dropBox:r,filePreview:{el:o,thumbnailSize:150}};new i($,t,"/",l)}};$(document).ready(n)},{"./lib/fileupload.js":4}],2:[function(e,i){var n=function(e,i){console.log("bier bier bier"),e.on("drop",function(e){e.stopPropagation(),e.preventDefault();var n=e.originalEvent.dataTransfer.files;i(n)}),e.on("dragenter",function(e){e.preventDefault()}),e.on("dragleave",function(e){e.preventDefault()}),e.on("dragover",function(e){e.preventDefault()})};i.exports=n},{}],3:[function(e,i){var n=function(e,i){this.previewFile=function(n){if(i.tests.filereader===!0&&i.acceptedTypes[n.type]===!0){var r=new FileReader;r.onload=function(n){var r=new Image;r.src=n.target.result,r.width=i.filePreview.thumbnailSize,e.append(r)},r.readAsDataURL(n)}else $previewlist.innerHTML+="<p>Uploaded "+n.name+" "+(n.size?(n.size/1024|0)+"K":""),console.log(n)}};i.exports=n},{}],4:[function(e,i){var n=e("./dropbox.js"),r=e("./filepreview.js"),o=function(e,i,o,t){var l=this,a={},f=[],s={tests:{filereader:"undefined"!=typeof FileReader,file:"undefined"!=typeof File,fileList:"undefined"!=typeof Filelist,blob:"undefined"!=typeof Blob,dnd:"draggable"in document.createElement("span"),formdata:!!window.FormData},fileSizeLimit:3e3,fileNumberLimit:3,dropBox:null,list:null,filePreview:{el:null,thumbnailSize:50},progess:!1,errormessages:{FileSizeLimit:"We allow Files with a max. filesize of 3 MB.",fileNumberLimit:"The allowed number of fileuploads is 3."},acceptedTypes:{"image/png":!0,"image/jpeg":!0,"image/gif":!0}},u=function(){for(var n in s)s.hasOwnProperty(n)&&(a[n]=t&&"undefined"!=typeof t[n]?t[n]:s[n],"function"==typeof a[n]&&(a[n]=a[n].bind(l)));a.dropBox&&(l.dropbox=c()),a.filePreview&&(l.filePreview=v()),i.on("change",function(){var i=e(this).prop("files");l.uploadFiles(i)})},p=function(e){return Math.floor(e/1e3)},d=function(i){var n=e('<li class="file"></li>');n.html('<span class="name">'+i.name+' </span><span class="type">'+i.type+' </span><span class="size">'+p(i.size)+" KB</span> "),a.list.append(n)},c=function(){return a.tests.dnd&&n?new n(a.dropBox,l.uploadFiles):void 0},v=function(){return a.filePreview&&a.tests.filereader?new r(a.filePreview.el,a):void 0},w=function(e){a.filePreview?l.filePreview.previewFile(e):d(e)},m=function(e){console.log("fileUploadFailed"),console.log(e)},g=function(e,i){e.done(function(){w(i)}),e.fail(function(){m(i)})};this.uploadFiles=function(e){for(var i=0;i<e.length;i++){var n=e[i];f.push(n);var r=sendData(n);g(r,n)}},u()};i.exports=o},{"./dropbox.js":2,"./filepreview.js":3}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlcyI6WyJhcHAuanMiXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsIkVycm9yIiwiZiIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwxLCJGaWxldXBsb2FkIiwiaW5pdGlhbGl6ZUZpbGVVcGxvYWQiLCIkY29udGFjdGZvcm0iLCIkIiwidGhpcyIsIiRmaWxlVXBsb2FkIiwiZmluZCIsIiRkcm9wQm94IiwiJHByZXZpZXdMaXN0IiwiJGZpbGVJbnB1dCIsIm9wdGlvbnMiLCJkcm9wQm94IiwiZmlsZVByZXZpZXciLCJlbCIsInRodW1ibmFpbFNpemUiLCJkb2N1bWVudCIsInJlYWR5IiwiLi9saWIvZmlsZXVwbG9hZC5qcyIsMiwibW9kdWxlIiwiRHJvcEJveCIsInVwbG9hZEZpbGVzQ2FsbGJhY2siLCJjb25zb2xlIiwibG9nIiwib24iLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImZpbGVEYXRhIiwib3JpZ2luYWxFdmVudCIsImRhdGFUcmFuc2ZlciIsImZpbGVzIiwzLCJGaWxlUHJldmlldyIsInByZXZpZXdGaWxlIiwiZmlsZSIsInRlc3RzIiwiZmlsZXJlYWRlciIsImFjY2VwdGVkVHlwZXMiLCJ0eXBlIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImV2ZW50IiwiaW1hZ2UiLCJJbWFnZSIsInNyYyIsInRhcmdldCIsInJlc3VsdCIsIndpZHRoIiwiYXBwZW5kIiwicmVhZEFzRGF0YVVSTCIsIiRwcmV2aWV3bGlzdCIsImlubmVySFRNTCIsIm5hbWUiLCJzaXplIiw0LCJ1cmwiLCJvcHRzIiwic2VsZiIsInNlbGVjdGVkRmlsZXMiLCJkZWZhdWx0T3B0aW9ucyIsIkZpbGUiLCJmaWxlTGlzdCIsIkZpbGVsaXN0IiwiYmxvYiIsIkJsb2IiLCJkbmQiLCJjcmVhdGVFbGVtZW50IiwiZm9ybWRhdGEiLCJ3aW5kb3ciLCJGb3JtRGF0YSIsImZpbGVTaXplTGltaXQiLCJmaWxlTnVtYmVyTGltaXQiLCJsaXN0IiwicHJvZ2VzcyIsImVycm9ybWVzc2FnZXMiLCJGaWxlU2l6ZUxpbWl0IiwiaW1hZ2UvcG5nIiwiaW1hZ2UvanBlZyIsImltYWdlL2dpZiIsImluaXQiLCJoYXNPd25Qcm9wZXJ0eSIsImJpbmQiLCJkcm9wYm94IiwiaW5pdERyb3BCb3giLCJpbml0RmlsZVByZXZpZXciLCJwcm9wIiwidXBsb2FkRmlsZXMiLCJjYWxjRmlsZVNpemUiLCJNYXRoIiwiZmxvb3IiLCJhZGRGaWxlRGF0YVRvRE9NIiwiJGxpc3RFbGVtZW50IiwiaHRtbCIsIm9uRmlsZVVwbG9hZERvbmUiLCJvbkZpbGVVcGxvYWRGYWlsIiwiaGFuZGxlQWpheFJlc3BvbnNlIiwicHJvbWlzZSIsImRvbmUiLCJmYWlsIiwicHVzaCIsInNlbmREYXRhIiwiLi9kcm9wYm94LmpzIiwiLi9maWxlcHJldmlldy5qcyJdLCJtYXBwaW5ncyI6IkNBQUEsUUFBVUEsR0FBRUMsRUFBRUMsRUFBRUMsR0FBRyxRQUFTQyxHQUFFQyxFQUFFQyxHQUFHLElBQUlKLEVBQUVHLEdBQUcsQ0FBQyxJQUFJSixFQUFFSSxHQUFHLENBQUMsR0FBSUUsR0FBa0Isa0JBQVRDLFVBQXFCQSxPQUFRLEtBQUlGLEdBQUdDLEVBQUUsTUFBT0EsR0FBRUYsR0FBRSxFQUFJLElBQUdJLEVBQUUsTUFBT0EsR0FBRUosR0FBRSxFQUFJLE1BQU0sSUFBSUssT0FBTSx1QkFBdUJMLEVBQUUsS0FBSyxHQUFJTSxHQUFFVCxFQUFFRyxJQUFJTyxXQUFZWCxHQUFFSSxHQUFHLEdBQUdRLEtBQUtGLEVBQUVDLFFBQVEsU0FBU1osR0FBRyxHQUFJRSxHQUFFRCxFQUFFSSxHQUFHLEdBQUdMLEVBQUcsT0FBT0ksR0FBRUYsRUFBRUEsRUFBRUYsSUFBSVcsRUFBRUEsRUFBRUMsUUFBUVosRUFBRUMsRUFBRUMsRUFBRUMsR0FBRyxNQUFPRCxHQUFFRyxHQUFHTyxRQUFrRCxJQUFJLEdBQTFDSCxHQUFrQixrQkFBVEQsVUFB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QyxLQUFLbEUsRUFDbkIsSUFBSStELEdBQVVJLFNBQVNuRSxFQUN2QjhELEdBQW1CQyxFQUFTL0QsS0FJOUI4QyxJQUdEN0QsR0FBT3ZCLFFBQVVJLElBRWRzRyxlQUFlLEVBQUVDLG1CQUFtQixTQUFTIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIEZpbGV1cGxvYWQgID0gcmVxdWlyZSgnLi9saWIvZmlsZXVwbG9hZC5qcycpO1xuXG52YXIgaW5pdGlhbGl6ZUZpbGVVcGxvYWQgPSBmdW5jdGlvbigpIHtcblx0dmFyICRjb250YWN0Zm9ybSA9ICQodGhpcyk7XG5cdHZhciAkZmlsZVVwbG9hZCAgPSAkY29udGFjdGZvcm0uZmluZCgnLmpzX2ZpbGV1cGxvYWQnKTtcblx0dmFyICRkcm9wQm94ICAgICA9ICRmaWxlVXBsb2FkLmZpbmQoJy5qc19kcm9wYm94Jyk7XG5cdHZhciAkcHJldmlld0xpc3QgPSAkZmlsZVVwbG9hZC5maW5kKCcuanNfcHJldmlld0xpc3QnKTtcblx0dmFyICRmaWxlSW5wdXQgICA9ICRmaWxlVXBsb2FkLmZpbmQoJy5qc19maWxlaW5wdXQnKTtcblxuXG5cdC8vIEZvciBTaW1wbGUgRmlsZSBEaXNwbGF5XG5cdC8vIHZhciAkbGlzdCA9ICRmaWxlVXBsb2FkLmZpbmQoJy5qc19saXN0Jyk7XG5cblx0dmFyIG9wdGlvbnMgPSB7XG5cdFx0ZHJvcEJveDogJGRyb3BCb3gsXG5cdFx0ZmlsZVByZXZpZXc6IHsgZWw6ICRwcmV2aWV3TGlzdCwgdGh1bWJuYWlsU2l6ZTogMTUwfVxuXHR9O1xuXG5cdHZhciBmaWxlVXBsb2FkID0gbmV3IEZpbGV1cGxvYWQoJCwgJGZpbGVJbnB1dCwgJy8nLCBvcHRpb25zKTtcbn07XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGluaXRpYWxpemVGaWxlVXBsb2FkKTtcblxufSx7XCIuL2xpYi9maWxldXBsb2FkLmpzXCI6NH1dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIERyb3BCb3ggPSBmdW5jdGlvbiAoJGRyb3BCb3gsIHVwbG9hZEZpbGVzQ2FsbGJhY2spe1xuXHRjb25zb2xlLmxvZygnYmllciBiaWVyIGJpZXInKTtcblxuXHQvKipcblx0ICogRHJhZ25Ecm9wIEV2ZW50bGlzdGVuZXJcblx0ICogQHBhcmFtICB7W3R5cGVdfSBlIFtkZXNjcmlwdGlvbl1cblx0ICogQHJldHVybiB7W3R5cGVdfSAgIFtkZXNjcmlwdGlvbl1cblx0ICovXG5cdCRkcm9wQm94Lm9uKCdkcm9wJywgZnVuY3Rpb24oZSl7XG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dmFyIGZpbGVEYXRhID0gZS5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcztcblx0XHR1cGxvYWRGaWxlc0NhbGxiYWNrKGZpbGVEYXRhKTtcblx0fSk7XG5cblx0JGRyb3BCb3gub24oJ2RyYWdlbnRlcicsIGZ1bmN0aW9uKGUpe1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0fSk7XG5cblx0JGRyb3BCb3gub24oJ2RyYWdsZWF2ZScsIGZ1bmN0aW9uKGUpe1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0fSk7XG5cblx0JGRyb3BCb3gub24oJ2RyYWdvdmVyJywgZnVuY3Rpb24oZSl7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBEcm9wQm94O1xuXG59LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBGaWxlUHJldmlldyA9IGZ1bmN0aW9uKCRwcmV2aWV3TGlzdCwgb3B0aW9ucyl7XG5cblx0LyoqXG5cdCAqIFtwcmV2aWV3RmlsZSBkZXNjcmlwdGlvbl1cblx0ICogQHBhcmFtICB7W3R5cGVdfSBmaWxlIFtkZXNjcmlwdGlvbl1cblx0ICogQHJldHVybiB7W3R5cGVdfSAgICAgIFtkZXNjcmlwdGlvbl1cblx0ICovXG5cdHRoaXMucHJldmlld0ZpbGUgPSBmdW5jdGlvbihmaWxlKXtcblx0XHRpZiAob3B0aW9ucy50ZXN0cy5maWxlcmVhZGVyID09PSB0cnVlICYmIG9wdGlvbnMuYWNjZXB0ZWRUeXBlc1tmaWxlLnR5cGVdID09PSB0cnVlKSB7XG5cdFx0XHR2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblx0XHRcdHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRcdFx0dmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG5cdFx0XHRcdFx0aW1hZ2Uuc3JjID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcblx0XHRcdFx0XHRpbWFnZS53aWR0aCA9IG9wdGlvbnMuZmlsZVByZXZpZXcudGh1bWJuYWlsU2l6ZTsgLy8gYSBmYWtlIHJlc2l6ZVxuXHRcdFx0XHRcdCRwcmV2aWV3TGlzdC5hcHBlbmQoaW1hZ2UpO1xuXHRcdFx0fTtcblx0XHRcdHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkcHJldmlld2xpc3QuaW5uZXJIVE1MICs9ICc8cD5VcGxvYWRlZCAnICsgZmlsZS5uYW1lICsgJyAnICsgKGZpbGUuc2l6ZSA/IChmaWxlLnNpemUvMTAyNHwwKSArICdLJyA6ICcnKTtcblx0XHRcdGNvbnNvbGUubG9nKGZpbGUpO1xuXHRcdH1cblx0fTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRmlsZVByZXZpZXc7XG5cblxuXG59LHt9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBEcm9wQm94ICAgICA9IHJlcXVpcmUoJy4vZHJvcGJveC5qcycpO1xudmFyIEZpbGVQcmV2aWV3ID0gcmVxdWlyZSgnLi9maWxlcHJldmlldy5qcycpO1xuXG52YXIgRmlsZXVwbG9hZCA9IGZ1bmN0aW9uKCQsICRmaWxlSW5wdXQsIHVybCwgb3B0cyl7XG5cdHZhciBzZWxmID0gdGhpcztcblxuXHR2YXIgb3B0aW9ucyA9IHt9O1xuXHR2YXIgc2VsZWN0ZWRGaWxlcyA9IFtdO1xuXG5cdHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcblx0XHQvKipcblx0XHQgKiBUZXN0cyB0byBlbnN1cmUgdGhhdCBGaWxlcmVhZGVyLCBEcmFnbkRyb3AgYW5kIEZvcm1EYXRhIGFyZSBub3QgdW5kZWZpbmVkXG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKi9cblx0XHR0ZXN0czoge1xuXHRcdFx0ZmlsZXJlYWRlcjogdHlwZW9mIEZpbGVSZWFkZXIgIT09ICd1bmRlZmluZWQnLFxuXHRcdFx0ZmlsZSA6IHR5cGVvZiBGaWxlICE9PSAndW5kZWZpbmVkJyxcblx0XHRcdGZpbGVMaXN0OiB0eXBlb2YgRmlsZWxpc3QgIT09ICd1bmRlZmluZWQnLFxuXHRcdFx0YmxvYjogdHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnLFxuXHRcdFx0ZG5kOiAnZHJhZ2dhYmxlJyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyksXG5cdFx0XHRmb3JtZGF0YTogISF3aW5kb3cuRm9ybURhdGFcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogTWF4aW11bUZpbGVTaXplXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKi9cblx0XHRmaWxlU2l6ZUxpbWl0OiAzMDAwLFxuXG5cdFx0LyoqXG5cdFx0ICogTWF4LiBOdW1iZXIgb2YgRmlsZXNcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqL1xuXHRcdGZpbGVOdW1iZXJMaW1pdDogMyxcblxuXHRcdC8qKlxuXHRcdCAqIElmIG51bGwgdGhlcmUgaXMgbm8gRHJhZ25Ecm9wIEZ1bmN0aW9uYWxpdHlcblx0XHQgKiBoYXMgdG8gYmUgYSAkb2JqZWN0XG5cdFx0ICovXG5cdFx0ZHJvcEJveDogbnVsbCxcblxuXHRcdC8qKlxuXHRcdCAqIEhhcyB0byBiZSBkZWZpbmVkIGJ5IHRoZSB1c2VyIHRvIGRpc3BsYXkgYSBsaXN0XG5cdFx0ICogaGFzIHRvIGJlIGEgJG9iamVjdFxuXHRcdCAqL1xuXHRcdGxpc3Q6IG51bGwsXG5cblx0XHQvKipcblx0XHQgKiBJZiBlbmFibGVkIGFuIGVuYW5jZWQgRGF0YUxpc3Qgd2l0aCBmaWxlcHJldmlldyBpcyByZW5kZXJlZCBpbnN0ZWFkIG9mIHRoZSBub3JtYWwgbGlzdFxuXHRcdCAqIElmIG5vdCBmYWxzZSB0aGVuIGl0IGhhcyB0byBiZSBhICRvYmplY3Rcblx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0XHQgKi9cblx0XHRmaWxlUHJldmlldzogeyBlbDogbnVsbCwgdGh1bWJuYWlsU2l6ZTogNTB9LFxuXG5cdFx0LyoqXG5cdFx0ICogSWYgZW5hYmxlZCB0aGUgUHJvZ2VzcyBpcyBkaXNwbGF5ZWQgd2hpbGUgdXBsb2FkaW5nIGEgZmlsZS5cblx0XHQgKiBJZiBub3QgZmFsc2UgdGhlbiBpdCBoYXMgdG8gYmUgYSAkb2JqZWN0XG5cdFx0ICogQHR5cGUge0Jvb2xlYW59XG5cdFx0ICovXG5cdFx0cHJvZ2VzczogZmFsc2UsXG5cblx0XHQvKipcblx0XHQgKiBEZWZhdWx0IGVycm9ybWVzc2FnZXNcblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqL1xuXHRcdGVycm9ybWVzc2FnZXM6e1xuXHRcdFx0RmlsZVNpemVMaW1pdDogXCJXZSBhbGxvdyBGaWxlcyB3aXRoIGEgbWF4LiBmaWxlc2l6ZSBvZiAzIE1CLlwiLFxuXHRcdFx0ZmlsZU51bWJlckxpbWl0OiBcIlRoZSBhbGxvd2VkIG51bWJlciBvZiBmaWxldXBsb2FkcyBpcyAzLlwiXG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIERlZmF1bHQgYWNjZXB0ZWQgdHlwZXMsIGNhbiBiZSBleHRlbmRlZCB3aXRoIGZ1cnRoZXIgZGF0YSBmb3JtYXRzXG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKi9cblx0XHRhY2NlcHRlZFR5cGVzOiB7ICdpbWFnZS9wbmcnOiB0cnVlLCAnaW1hZ2UvanBlZyc6IHRydWUsICdpbWFnZS9naWYnOiB0cnVlfVxuXHR9O1xuXG5cblxuXG5cdHZhciBpbml0ID0gZnVuY3Rpb24oKSB7XG5cdFx0LyoqXG5cdFx0ICogTWVyZ2UgZGVmYXVsdG9wdGlvbnMgYW5kIHVzZXJvcHRpb25zXG5cdFx0ICovXG5cdFx0Zm9yICh2YXIgaSBpbiBkZWZhdWx0T3B0aW9ucykge1xuXHRcdFx0aWYgKGRlZmF1bHRPcHRpb25zLmhhc093blByb3BlcnR5KGkpKSB7XG5cdFx0XHRcdG9wdGlvbnNbaV0gPSBvcHRzICYmIHR5cGVvZihvcHRzW2ldKSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRzW2ldIDogZGVmYXVsdE9wdGlvbnNbaV07XG5cdFx0XHRcdGlmICh0eXBlb2Yob3B0aW9uc1tpXSkgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRvcHRpb25zW2ldID0gb3B0aW9uc1tpXS5iaW5kKHNlbGYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYob3B0aW9ucy5kcm9wQm94KXtcblx0XHRcdHNlbGYuZHJvcGJveCA9IGluaXREcm9wQm94KCk7XG5cdFx0fTtcblxuXHRcdGlmKG9wdGlvbnMuZmlsZVByZXZpZXcpe1xuXHRcdFx0c2VsZi5maWxlUHJldmlldyA9IGluaXRGaWxlUHJldmlldygpO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBbZGVzY3JpcHRpb25dXG5cdFx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG5cdFx0ICovXG5cdFx0JGZpbGVJbnB1dC5vbignY2hhbmdlJywgZnVuY3Rpb24oKXtcblx0XHRcdHZhciBmaWxlRGF0YSA9ICQodGhpcykucHJvcCgnZmlsZXMnKTtcblx0XHRcdHNlbGYudXBsb2FkRmlsZXMoZmlsZURhdGEpO1xuXHRcdH0pO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBbZ2V0RmlsZVNpemUgZGVzY3JpcHRpb25dXG5cdCAqIEBwYXJhbSAge1t0eXBlXX0gc2l6ZSBbZGVzY3JpcHRpb25dXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gICAgICBbZGVzY3JpcHRpb25dXG5cdCAqL1xuXHR2YXIgY2FsY0ZpbGVTaXplID0gZnVuY3Rpb24oc2l6ZSl7XG5cdFx0cmV0dXJuIE1hdGguZmxvb3Ioc2l6ZS8xMDAwKTtcblx0fTtcblxuXHQvKipcblx0ICogW3Nob3dEYXRhIGRlc2NyaXB0aW9uXVxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IGZpbGUgW2Rlc2NyaXB0aW9uXVxuXHQgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0dmFyIGFkZEZpbGVEYXRhVG9ET00gPSBmdW5jdGlvbihmaWxlKXtcblx0XHR2YXIgJGxpc3RFbGVtZW50ID0gJCgnPGxpIGNsYXNzPVwiZmlsZVwiPjwvbGk+Jyk7XG5cdFx0JGxpc3RFbGVtZW50Lmh0bWwoJzxzcGFuIGNsYXNzPVwibmFtZVwiPicgKyBmaWxlLm5hbWUgKyAnIDwvc3Bhbj48c3BhbiBjbGFzcz1cInR5cGVcIj4nICsgZmlsZS50eXBlICsgJyA8L3NwYW4+PHNwYW4gY2xhc3M9XCJzaXplXCI+JyArIGNhbGNGaWxlU2l6ZShmaWxlLnNpemUpICsgJyBLQjwvc3Bhbj4gJyk7XG5cdFx0b3B0aW9ucy5saXN0LmFwcGVuZCgkbGlzdEVsZW1lbnQpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBbaW5pdERyb3BCb3ggZGVzY3JpcHRpb25dXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0dmFyIGluaXREcm9wQm94ID0gZnVuY3Rpb24oKXtcblx0XHRpZihvcHRpb25zLnRlc3RzLmRuZCAmJiBEcm9wQm94KXtcblx0XHRcdHJldHVybiBuZXcgRHJvcEJveChvcHRpb25zLmRyb3BCb3gsIHNlbGYudXBsb2FkRmlsZXMpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogW2luaXRQcm9nZXNzIGRlc2NyaXB0aW9uXVxuXHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cblx0ICovXG5cdHZhciBpbml0UHJvZ2VzcyA9IGZ1bmN0aW9uKCl7XG5cdFx0aWYob3B0aW9ucy5wcm9nZXNzYmFyKXtcblx0XHRcdHJldHVybiBuZXcgUHJvZ3Jlc3MoKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIFtpbml0RmlsZXByZXZpZXcgZGVzY3JpcHRpb25dXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0dmFyIGluaXRGaWxlUHJldmlldyA9IGZ1bmN0aW9uKCl7XG5cdFx0aWYob3B0aW9ucy5maWxlUHJldmlldyAmJiBvcHRpb25zLnRlc3RzLmZpbGVyZWFkZXIpIHtcblx0XHRcdHJldHVybiBuZXcgRmlsZVByZXZpZXcob3B0aW9ucy5maWxlUHJldmlldy5lbCwgb3B0aW9ucyk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBbdXBsb2FkRmlsZSBkZXNjcmlwdGlvbl1cblx0ICogQHBhcmFtICB7W3R5cGVdfSBmaWxlcyBbZGVzY3JpcHRpb25dXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0Ly8gdmFyIHNlbmREYXRhID0gZnVuY3Rpb24oZmlsZWRhdGEpe1xuXHQvLyBcdHZhciBwcm9taXNlID0gJC5hamF4KHtcblx0Ly8gXHRcdHVybDogdXJsLFxuXHQvLyBcdFx0dHlwZTogJ1BPU1QnLFxuXHQvLyBcdFx0Y2FjaGU6IGZhbHNlLFxuXHQvLyBcdFx0Y29udGVudFR5cGU6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJyxcblx0Ly8gXHRcdHByb2Nlc3NEYXRhOiBmYWxzZSxcblx0Ly8gXHRcdGRhdGE6IGZpbGVkYXRhXG5cdC8vIFx0fSk7XG5cblx0Ly8gXHRyZXR1cm4gcHJvbWlzZTtcblx0Ly8gfTtcblxuXHR2YXIgb25GaWxlVXBsb2FkRG9uZSA9IGZ1bmN0aW9uKGZpbGUpe1xuXHRcdGlmKG9wdGlvbnMuZmlsZVByZXZpZXcpe1xuXHRcdFx0c2VsZi5maWxlUHJldmlldy5wcmV2aWV3RmlsZShmaWxlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YWRkRmlsZURhdGFUb0RPTShmaWxlKTtcblx0XHR9XG5cdH07XG5cblx0dmFyIG9uRmlsZVVwbG9hZEZhaWwgPSBmdW5jdGlvbihmaWxlKXtcblx0XHRjb25zb2xlLmxvZygnZmlsZVVwbG9hZEZhaWxlZCcpO1xuXHRcdGNvbnNvbGUubG9nKGZpbGUpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBIYW5kbGUgdGhlIEFqYXggUmVzcG9uc2UgYW5kIG5vdGlmaWVzIHRoZSByaWdodCBDYWxsYmFja3Ncblx0ICogQHBhcmFtICB7W3R5cGVdfSBwcm9taXNlIFtkZXNjcmlwdGlvbl1cblx0ICogQHBhcmFtICB7W3R5cGVdfSBmaWxlICAgIFtkZXNjcmlwdGlvbl1cblx0ICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgIFtkZXNjcmlwdGlvbl1cblx0ICovXG5cdHZhciBoYW5kbGVBamF4UmVzcG9uc2UgPSBmdW5jdGlvbihwcm9taXNlLCBmaWxlKXtcblx0XHQvKipcblx0XHQgKiBOb3RpZmllcyBjYWxsYmFjayBvbiBzdWNjZXNzXG5cdFx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG5cdFx0ICovXG5cdFx0cHJvbWlzZS5kb25lKGZ1bmN0aW9uKCkge1xuXHRcdFx0b25GaWxlVXBsb2FkRG9uZShmaWxlKTtcblx0XHR9KTtcblxuXHRcdC8qKlxuXHRcdCAqIE5vdGlmaWVzIGNhbGxiYWNrIG9uIGZhaWxcblx0XHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cblx0XHQgKi9cblx0XHRwcm9taXNlLmZhaWwoZnVuY3Rpb24oKSB7XG5cdFx0XHRvbkZpbGVVcGxvYWRGYWlsKGZpbGUpO1xuXHRcdH0pO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplIHRoZSBVcGxvYWQgZm9yIGVhY2ggc2VsZWN0ZWQgRmlsZVxuXHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cblx0ICovXG5cdHRoaXMudXBsb2FkRmlsZXMgPSBmdW5jdGlvbihmaWxlRGF0YSl7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IGZpbGVEYXRhLmxlbmd0aDsgaSsrKXtcblx0XHRcdHZhciBmaWxlID0gZmlsZURhdGFbaV07XG5cdFx0XHRzZWxlY3RlZEZpbGVzLnB1c2goZmlsZSk7XG5cdFx0XHR2YXIgcHJvbWlzZSA9IHNlbmREYXRhKGZpbGUpO1xuXHRcdFx0aGFuZGxlQWpheFJlc3BvbnNlKHByb21pc2UsIGZpbGUpO1xuXHRcdH1cblx0fTtcblxuXHRpbml0KCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZpbGV1cGxvYWQ7XG5cbn0se1wiLi9kcm9wYm94LmpzXCI6MixcIi4vZmlsZXByZXZpZXcuanNcIjozfV19LHt9LFsxXSkiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=