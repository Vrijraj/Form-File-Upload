!function e(n,i,r){function a(o,l){if(!i[o]){if(!n[o]){var u="function"==typeof require&&require;if(!l&&u)return u(o,!0);if(t)return t(o,!0);throw new Error("Cannot find module '"+o+"'")}var s=i[o]={exports:{}};n[o][0].call(s.exports,function(e){var i=n[o][1][e];return a(i?i:e)},s,s.exports,e,n,i,r)}return i[o].exports}for(var t="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e){var n=e("./lib/easyformfileupload.js"),i=function(){{var e=$(".js_fileupload"),i=e.find(".js_selectfile"),r=e.find(".js_dropbox"),a="/",t={maxFileSize:6145728};new n(e,i,r,a,t)}};$(document).ready(i)},{"./lib/easyformfileupload.js":2}],2:[function(e,n){var i=function(e){return Array.prototype.slice.call(e,0)},r=function(){return!!(window.File&&window.FileList&&window.FileReader)},a=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},t=function(e,n,t,o,l){var u=e.find(".js_list"),s=e.find(".js_fileinputs"),c=this,f=0,p=0,d={},m={emptyImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII=",errorMessageTimeout:5e3,maxFileSize:3145728,maxFileNumber:3,circleThumbnail:!1,maxRequestSize:9437184,invalidFileNameError:"Der Dateiname enthält ungültige Zeichen.",invalidFileTypeError:"Ein Dateiformat ist nicht zugelassen. Bitte wählen sie ein anderes Dateiformat.",maxRequestSizeError:"Das Datenlimit für den Upload von Dateien ist überschritten.",maxFileNumberError:"Sie können nur maximal 3 Dateien anhängen.",maxFileSizeError:"Eine Datei ist zu groß. Maximal 3 MB pro Datei sind zugelassen.",acceptedTypes:{"image/png":"PNG-Bild","image/jpeg":"JPEG-Bild","image/gif":"GIF-Bild","image/tiff":"TIFF-Bild","application/pdf":"PDF-Dokument","application/vnd.ms-excel":"Excel-Dokument","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel-Dokument","application/msword":"Word-Dokument","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"Word-Dokument"}};for(var v in m)l.hasOwnProperty(v)?(d[v]=l[v],"function"==typeof d[v]&&(d[v]=d[v].bind(c))):d[v]=m[v];var A,g=function(e){return/\.xls$/.test(e.name)&&!e.type?"application/vnd.ms-excel":e.type},h=function(e){var n,i=e.size;return i>=1099511627776?(i/=109951162777.6,n="TB"):i>=1073741824?(i/=107374182.4,n="GB"):i>=1048576?(i/=104857.6,n="MB"):i>=1024?(i/=102.4,n="kB"):(i=10*i,n="B"),Math.round(i)/10+" "+n},x=function(e){return d.acceptedTypes[g(e)]||"Unbekannt"},E=function(e){return/^image\//.test(g(e))},F=function(e){var n=$.Deferred(),i=new FileReader;return i.onload=function(i){n.resolve({data:i.target.result,nativeFile:e})},i.onerror=function(){n.reject(this)},i.readAsDataURL(e),n.promise()},y=function(e){return $.when.apply(null,e.map(function(e){return F(e)})).then(function(){return i(arguments)})},D=function(e){f+=1,p+=e.size},b=function(e){f-=1,p-=e.size},T=function(n){var i=e.find(".error");n?i.fadeOut(400,function(){i.remove()}):i.remove()},w=function(e){clearTimeout(A),A=setTimeout(function(){T(!0)},ERROR_MESSAGE_TIMEOUT),t.after($('<li class="error">'+e+"<li>"))},z=function(e){var n=!1;return f>=d.maxFileNumber&&(n=!0,w(d.maxFileNumberError)),p>=d.maxRequestSize&&(n=!0,w(d.maxRequestSizeError)),d.acceptedTypes[g(e)]||(n=!0,w(d.invalidFileTypeError)),e.size>d.maxFileSize&&(n=!0,w(d.maxFileSizeError)),/^[A-Za-z0-9.\-_ ]+$/.test(e.name)||(n=!0,w(invalidFileNameError)),!n},R=function(e,n){var i=new FileReader,r=$('<span class="thumbnail"></span>');d.circleThumbnail&&r.addClass("circle"),i.onload=function(i){var a=new Image;a.src=E(e)?i.target.result:EMPTY_IMAGE,n.prepend(r.append(a))},i.readAsDataURL(e)},S=function(e,n){var i=h(e),a=x(e),t=$('<li class="file"></li>');t.append(['<span class="label name">',e.name,'</span><span class="label size">',i,'</span><span class="label type">',a,"</span>"].join(""));var o=$("<span/>");t.append(o),o.addClass("remove"),o.on("click",function(){t.remove(),n()}),r&&R(e,t),u.append(t)},B=0,M=function(){var e=$("<input/>");B+=1,e.attr("name","fileInput"+B),e.attr("type","file"),e.addClass("fileinput"),n.prepend(e),e.on("change",function(){T(!1);var n=i($(this).prop("files"));if(n.length){var r=n[0];z(r)?(D(r),e.appendTo(s),S(r,function(){b(r),e.remove()})):e.remove(),M()}})};M();var j=function(e){T(!1);var n=i(e.originalEvent.dataTransfer.files);y(n).done(function(e){e.every(function(e){var n=e.nativeFile;if(!z(n))return!1;D(n);var i=$('<input type="hidden">');return i.val(e.data),i.attr("name","file:"+n.name),i.appendTo(s),S(n,function(){b(n),i.remove()}),!0})})};t.on("drop",function(e){a(e),$(this).removeClass("active"),j(e)}),t.on("dragenter",function(e){a(e)}),t.on("dragover",function(e){a(e),$(this).addClass("active")}),t.on("dragleave",function(e){a(e),$(this).removeClass("active")}),r||t.hide()};n.exports=t},{}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlcyI6WyJhcHAuanMiXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsIkVycm9yIiwiZiIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwxLCJFYXN5RmlsZXVwbG9hZCIsImluaXRpYWxpemVGaWxlVXBsb2FkIiwiJGZpbGVVcGxvYWQiLCIkIiwiJGZpbGVTZWxlY3QiLCJmaW5kIiwiJGRyb3BCb3giLCJ1cmwiLCJvcHRpb25zIiwibWF4RmlsZVNpemUiLCJkb2N1bWVudCIsInJlYWR5IiwiLi9saWIvZWFzeWZvcm1maWxldXBsb2FkLmpzIiwyLCJtb2R1bGUiLCJ0b0FycmF5Iiwib2JqZWN0IiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzbGljZSIsImhhc0ZpbGVSZWFkZXIiLCJ3aW5kb3ciLCJGaWxlIiwiRmlsZUxpc3QiLCJGaWxlUmVhZGVyIiwibm9Qcm9wYWdhdGlvbiIsInN0b3BQcm9wYWdhdGlvbiIsInByZXZlbnREZWZhdWx0IiwicmV0dXJuVmFsdWUiLCJFYXN5Rm9ybUZpbGVVcGxvYWQiLCJvcHRzIiwiJGZpbGVWaWV3IiwiJGZpbGVJbnB1dHMiLCJzZWxmIiwidGhpcyIsImZpbGVOdW1iZXIiLCJyZXF1ZXN0U2l6ZSIsImRlZmF1bHRPcHRpb25zIiwiZW1wdHlJbWFnZSIsImVycm9yTWVzc2FnZVRpbWVvdXQiLCJtYXhGaWxlTnVtYmVyIiwiY2lyY2xlVGh1bWJuYWlsIiwibWF4UmVxdWVzdFNpemUiLCJpbnZhbGlkRmlsZU5hbWVFcnJvciIsImludmFsaWRGaWxlVHlwZUVycm9yIiwibWF4UmVxdWVzdFNpemVFcnJvciIsIm1heEZpbGVOdW1iZXJFcnJvciIsIm1heEZpbGVTaXplRXJyb3IiLCJhY2NlcHRlZFR5cGVzIiwiaW1hZ2UvcG5nIiwiaW1hZ2UvanBlZyIsImltYWdlL2dpZiIsImltYWdlL3RpZmYiLCJhcHBsaWNhdGlvbi9wZGYiLCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwiLCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldCIsImFwcGxpY2F0aW9uL21zd29yZCIsImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50IiwiaGFzT3duUHJvcGVydHkiLCJiaW5kIiwiZXJyb3JUaW1lb3V0SWQiLCJnZXRGaWxlVHlwZSIsIm5hdGl2ZUZpbGUiLCJ0ZXN0IiwibmFtZSIsInR5cGUiLCJnZXRSZWFkYWJsZUZpbGVTaXplIiwic3RyaW5nIiwic2l6ZSIsIk1hdGgiLCJyb3VuZCIsImdldFJlYWRhYmxlRmlsZVR5cGUiLCJpc0ltYWdlIiwiY29udmVydFRvQmFzZTY0RmlsZSIsImRlZmVycmVkIiwiRGVmZXJyZWQiLCJyZWFkZXIiLCJvbmxvYWQiLCJldmVudCIsInJlc29sdmUiLCJkYXRhIiwidGFyZ2V0IiwicmVzdWx0Iiwib25lcnJvciIsInJlamVjdCIsInJlYWRBc0RhdGFVUkwiLCJwcm9taXNlIiwicGFyc2VCYXNlNjRGaWxlcyIsIm5hdGl2ZUZpbGVzIiwid2hlbiIsImFwcGx5IiwibWFwIiwidGhlbiIsImFyZ3VtZW50cyIsInRyYWNrRmlsZSIsInVudHJhY2tGaWxlIiwicmVtb3ZlRXJyb3JzIiwiZmFkZU91dCIsIiRlcnJvcnMiLCJyZW1vdmUiLCJzaG93RXJyb3JNZXNzYWdlIiwiZXJyb3IiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiRVJST1JfTUVTU0FHRV9USU1FT1VUIiwiYWZ0ZXIiLCJ2YWxpZGF0ZUZpbGUiLCJoYXNFcnJvcnMiLCJhZGRGaWxlUHJldmlldyIsIiRmaWxlVmlld0VsZW1lbnQiLCIkaW1nV3JhcHBlciIsImFkZENsYXNzIiwiaW1hZ2UiLCJJbWFnZSIsInNyYyIsIkVNUFRZX0lNQUdFIiwicHJlcGVuZCIsImFwcGVuZCIsImFkZEZpbGVUb1ZpZXciLCJyZW1vdmVIYW5kbGVyIiwiZmlsZVNpemUiLCJmaWxlVHlwZSIsImpvaW4iLCIkcmVtb3ZlQnV0dG9uIiwib24iLCJmaWxlSW5wdXRJZCIsImFkZE5ld0ZpbGVJbnB1dCIsIiRmaWxlSW5wdXQiLCJhdHRyIiwicHJvcCIsImFwcGVuZFRvIiwiY3JlYXRlRG5kSGFuZGxlciIsIm9yaWdpbmFsRXZlbnQiLCJkYXRhVHJhbnNmZXIiLCJmaWxlcyIsImRvbmUiLCJiYXNlNjRGaWxlcyIsImV2ZXJ5IiwiYmFzZTY0RmlsZSIsIiRoaWRkZW5EYXRhRmllbGQiLCJ2YWwiLCJyZW1vdmVDbGFzcyIsImhpZGUiXSwibWFwcGluZ3MiOiJDQUFBLFFBQVVBLEdBQUVDLEVBQUVDLEVBQUVDLEdBQUcsUUFBU0MsR0FBRUMsRUFBRUMsR0FBRyxJQUFJSixFQUFFRyxHQUFHLENBQUMsSUFBSUosRUFBRUksR0FBRyxDQUFDLEdBQUlFLEdBQWtCLGtCQUFUQyxVQUFxQkEsT0FBUSxLQUFJRixHQUFHQyxFQUFFLE1BQU9BLEdBQUVGLEdBQUUsRUFBSSxJQUFHSSxFQUFFLE1BQU9BLEdBQUVKLEdBQUUsRUFBSSxNQUFNLElBQUlLLE9BQU0sdUJBQXVCTCxFQUFFLEtBQUssR0FBSU0sR0FBRVQsRUFBRUcsSUFBSU8sV0FBWVgsR0FBRUksR0FBRyxHQUFHUSxLQUFLRixFQUFFQyxRQUFRLFNBQVNaLEdBQUcsR0FBSUUsR0FBRUQsRUFBRUksR0FBRyxHQUFHTCxFQUFHLE9BQU9JLEdBQUVGLEVBQUVBLEVBQUVGLElBQUlXLEVBQUVBLEVBQUVDLFFBQVFaLEVBQUVDLEVBQUVDLEVBQUVDLEdBQUcsTUFBT0QsR0FBRUcsR0FBR08sUUFBa0QsSUFBSSxHQUExQ0gsR0FBa0Isa0JBQVRELFVBQXFCQSxRQUFnQkgsRUFBRSxFQUFFQSxFQUFFRixFQUFFVyxPQUFPVCxJQUFJRCxFQUFFRCxFQUFFRSxHQUFJLE9BQU9ELEtBQUtXLEdBQUcsU0FBU1AsR0FDdGEsR0FBSVEsR0FBaUJSLEVBQVEsK0JBRXpCUyxFQUF1QixXQUMxQixDQUFBLEdBQUlDLEdBQWNDLEVB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RUFBYTVDLEdBQ2pCLE9BQU8sQ0FHUmdDLEdBQVVoQyxFQUVWLElBQUk2RSxHQUFtQnhJLEVBQUUsd0JBWXpCLE9BVkF3SSxHQUFpQkMsSUFBSUYsRUFBVzFELE1BQ2hDMkQsRUFBaUJYLEtBQUssT0FBUSxRQUFVbEUsRUFBV0UsTUFDbkQyRSxFQUFpQlQsU0FBU2xHLEdBRTFCc0YsRUFBY3hELEVBQVksV0FDekJpQyxFQUFZakMsR0FFWjZFLEVBQWlCeEMsWUFHWCxNQUtWN0YsR0FBU3NILEdBQUcsT0FBUSxTQUFTOUMsR0FDNUJyRCxFQUFjcUQsR0FDZDNFLEVBQUUrQixNQUFNMkcsWUFBWSxVQUNwQlYsRUFBaUJyRCxLQUdsQnhFLEVBQVNzSCxHQUFHLFlBQWEsU0FBUzlDLEdBQ2pDckQsRUFBY3FELEtBR2Z4RSxFQUFTc0gsR0FBRyxXQUFZLFNBQVM5QyxHQUNoQ3JELEVBQWNxRCxHQUNkM0UsRUFBRStCLE1BQU02RSxTQUFTLFlBR2xCekcsRUFBU3NILEdBQUcsWUFBYSxTQUFTOUMsR0FDakNyRCxFQUFjcUQsR0FDZDNFLEVBQUUrQixNQUFNMkcsWUFBWSxZQUdoQnpILEdBQ0pkLEVBQVN3SSxPQUlYaEksR0FBT2xCLFFBQVVpQyxZQUdOIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIEVhc3lGaWxldXBsb2FkID0gcmVxdWlyZSgnLi9saWIvZWFzeWZvcm1maWxldXBsb2FkLmpzJyk7XG5cbnZhciBpbml0aWFsaXplRmlsZVVwbG9hZCA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgJGZpbGVVcGxvYWQgPSAkKCcuanNfZmlsZXVwbG9hZCcpO1xuXHR2YXIgJGZpbGVTZWxlY3QgPSAkZmlsZVVwbG9hZC5maW5kKCcuanNfc2VsZWN0ZmlsZScpO1xuXHR2YXIgJGRyb3BCb3ggICAgICA9ICRmaWxlVXBsb2FkLmZpbmQoJy5qc19kcm9wYm94Jyk7XG5cblx0dmFyIHVybCA9ICcvJztcblxuXHR2YXIgb3B0aW9ucyA9IHtcblx0XHRtYXhGaWxlU2l6ZTogNjE0NTcyOFxuXHR9O1xuXG5cdHZhciBlYXN5RmlsZXVwbG9hZCA9IG5ldyBFYXN5RmlsZXVwbG9hZCgkZmlsZVVwbG9hZCwgJGZpbGVTZWxlY3QsICRkcm9wQm94LCB1cmwsIG9wdGlvbnMpO1xufTtcblxuJChkb2N1bWVudCkucmVhZHkoaW5pdGlhbGl6ZUZpbGVVcGxvYWQpO1xuXG59LHtcIi4vbGliL2Vhc3lmb3JtZmlsZXVwbG9hZC5qc1wiOjJ9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciB0b0FycmF5ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG5cdHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmplY3QsIDApO1xufTtcblxudmFyIGhhc0ZpbGVSZWFkZXIgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuICEhKHdpbmRvdy5GaWxlICYmIHdpbmRvdy5GaWxlTGlzdCAmJiB3aW5kb3cuRmlsZVJlYWRlcik7XG59O1xuXG52YXIgbm9Qcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKGUpIHtcblx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0aWYgKGUucHJldmVudERlZmF1bHQpIHtcblx0XHRyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBlLnJldHVyblZhbHVlID0gZmFsc2U7XG5cdH1cbn07XG5cbi8qKlxuICogW0Vhc3lGb3JtRmlsZVVwbG9hZCBkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSB7W3R5cGVdfSAkZmlsZVVwbG9hZCBbZGVzY3JpcHRpb25dXG4gKiBAcGFyYW0ge1t0eXBlXX0gJGZpbGVTZWxlY3QgW2Rlc2NyaXB0aW9uXVxuICogQHBhcmFtIHtbdHlwZV19ICRkcm9wQm94ICAgIFtkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSB7W3R5cGVdfSB1cmwgICAgICAgICBbZGVzY3JpcHRpb25dXG4gKiBAcGFyYW0ge1t0eXBlXX0gb3B0cyAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICovXG52YXIgRWFzeUZvcm1GaWxlVXBsb2FkID0gZnVuY3Rpb24oJGZpbGVVcGxvYWQsICRmaWxlU2VsZWN0LCAkZHJvcEJveCwgdXJsLCBvcHRzKSB7XG5cblx0dmFyICRmaWxlVmlldyAgID0gJGZpbGVVcGxvYWQuZmluZCgnLmpzX2xpc3QnKTtcblx0dmFyICRmaWxlSW5wdXRzID0gJGZpbGVVcGxvYWQuZmluZCgnLmpzX2ZpbGVpbnB1dHMnKTtcblxuXHR2YXIgc2VsZiAgICAgICAgPSB0aGlzO1xuXHR2YXIgZmlsZU51bWJlciAgPSAwO1xuXHR2YXIgcmVxdWVzdFNpemUgPSAwO1xuXHR2YXIgb3B0aW9ucyAgICAgPSB7fTtcblxuXHR2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG5cblx0XHQvKipcblx0XHQgKiBbZW1wdHlJbWFnZSBkZXNjcmlwdGlvbl1cblx0XHQgKiBAdHlwZSB7U3RyaW5nfVxuXHRcdCAqL1xuXHRcdGVtcHR5SW1hZ2U6ICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJBUU1BQUFBbDIxYktBQUFBQTFCTVZFVUFBQUNuZWozYUFBQUFBWFJTVGxNQVFPYllaZ0FBQUFwSlJFRlVDTmRqWUFBQUFBSUFBZUlodkRNQUFBQUFTVVZPUks1Q1lJST0nLFxuXG5cdFx0LyoqXG5cdFx0ICogW2Vycm9yTWVzc2FnZVRpbWVvdXQgZGVzY3JpcHRpb25dXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKi9cblx0XHRlcnJvck1lc3NhZ2VUaW1lb3V0OiA1MDAwLFxuXG5cdFx0LyoqXG5cdFx0ICogW21heEZpbGVTaXplIGRlc2NyaXB0aW9uXVxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICovXG5cdFx0bWF4RmlsZVNpemU6IDMxNDU3MjgsXG5cblx0XHQvKipcblx0XHQgKiBbbWF4RmlsZU51bWJlciBkZXNjcmlwdGlvbl1cblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqL1xuXHRcdG1heEZpbGVOdW1iZXI6IDMsXG5cblx0XHQvKipcblx0XHQgKiBbcm91bmRlZFRodW1ibmFpbCBkZXNjcmlwdGlvbl1cblx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0XHQgKi9cblx0XHRjaXJjbGVUaHVtYm5haWw6IGZhbHNlLFxuXG5cdFx0LyoqXG5cdFx0ICogW21heFJlcXVlc3RTaXplIGRlc2NyaXB0aW9uXVxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICovXG5cdFx0bWF4UmVxdWVzdFNpemU6IDk0MzcxODQsXG5cblx0XHQvKipcblx0XHQgKiBbaW52YWxpZEZpbGVOYW1lRXJyb3IgZGVzY3JpcHRpb25dXG5cdFx0ICogQHR5cGUge1N0cmluZ31cblx0XHQgKi9cblx0XHRpbnZhbGlkRmlsZU5hbWVFcnJvcjogJ0RlciBEYXRlaW5hbWUgZW50aMOkbHQgdW5nw7xsdGlnZSBaZWljaGVuLicsXG5cblx0XHQvKipcblx0XHQgKiBbaW52YWxpZEZpbGVUeXBlRXJyb3IgZGVzY3JpcHRpb25dXG5cdFx0ICogQHR5cGUge1N0cmluZ31cblx0XHQgKi9cblx0XHRpbnZhbGlkRmlsZVR5cGVFcnJvcjogJ0VpbiBEYXRlaWZvcm1hdCBpc3QgbmljaHQgenVnZWxhc3Nlbi4gQml0dGUgd8OkaGxlbiBzaWUgZWluIGFuZGVyZXMgRGF0ZWlmb3JtYXQuJyxcblxuXHRcdC8qKlxuXHRcdCAqIFttYXhSZXF1ZXN0U2l6ZUVycm9yIGRlc2NyaXB0aW9uXVxuXHRcdCAqIEB0eXBlIHtTdHJpbmd9XG5cdFx0ICovXG5cdFx0bWF4UmVxdWVzdFNpemVFcnJvcjogJ0RhcyBEYXRlbmxpbWl0IGbDvHIgZGVuIFVwbG9hZCB2b24gRGF0ZWllbiBpc3Qgw7xiZXJzY2hyaXR0ZW4uJyxcblxuXHRcdC8qKlxuXHRcdCAqIFttYXhGaWxlTnVtYmVyRXJyb3IgZGVzY3JpcHRpb25dXG5cdFx0ICogQHR5cGUge1N0cmluZ31cblx0XHQgKi9cblx0XHRtYXhGaWxlTnVtYmVyRXJyb3I6ICdTaWUga8O2bm5lbiBudXIgbWF4aW1hbCAzIERhdGVpZW4gYW5ow6RuZ2VuLicsXG5cblx0XHQvKipcblx0XHQgKiBbbWF4RmlsZVNpemVFcnJvciBkZXNjcmlwdGlvbl1cblx0XHQgKiBAdHlwZSB7U3RyaW5nfVxuXHRcdCAqL1xuXHRcdG1heEZpbGVTaXplRXJyb3I6ICdFaW5lIERhdGVpIGlzdCB6dSBncm/Dny4gTWF4aW1hbCAzIE1CIHBybyBEYXRlaSBzaW5kIHp1Z2VsYXNzZW4uJyxcblxuXHRcdC8qKlxuXHRcdCAqIFthY2NlcHRlZFR5cGVzIGRlc2NyaXB0aW9uXVxuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICovXG5cdFx0YWNjZXB0ZWRUeXBlczoge1xuXHRcdFx0J2ltYWdlL3BuZyc6ICdQTkctQmlsZCcsXG5cdFx0XHQnaW1hZ2UvanBlZyc6ICdKUEVHLUJpbGQnLFxuXHRcdFx0J2ltYWdlL2dpZic6ICdHSUYtQmlsZCcsXG5cdFx0XHQnaW1hZ2UvdGlmZic6ICdUSUZGLUJpbGQnLFxuXHRcdFx0J2FwcGxpY2F0aW9uL3BkZic6ICdQREYtRG9rdW1lbnQnLFxuXHRcdFx0J2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCc6ICdFeGNlbC1Eb2t1bWVudCcsXG5cdFx0XHQnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQnOiAnRXhjZWwtRG9rdW1lbnQnLFxuXHRcdFx0J2FwcGxpY2F0aW9uL21zd29yZCc6ICdXb3JkLURva3VtZW50Jyxcblx0XHRcdCdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudCc6ICdXb3JkLURva3VtZW50J1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogTWVyZ2UgZGVmYXVsdG9wdGlvbnMgYW5kIHVzZXJvcHRpb25zIGluIG9uZSBvYmplY3Rcblx0ICovXG5cdGZvciAodmFyIGkgaW4gZGVmYXVsdE9wdGlvbnMpIHtcblx0XHRpZihvcHRzLmhhc093blByb3BlcnR5KGkpKSB7XG5cdFx0XHRvcHRpb25zW2ldID0gb3B0c1tpXTtcblx0XHRcdGlmICh0eXBlb2Yob3B0aW9uc1tpXSkgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0b3B0aW9uc1tpXSA9IG9wdGlvbnNbaV0uYmluZChzZWxmKTtcblx0XHRcdH1cblx0XHR9IGVsc2V7XG5cdFx0XHRvcHRpb25zW2ldID0gZGVmYXVsdE9wdGlvbnNbaV07XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIEZpbGV0eXBlXG5cdCAqIEBwYXJhbSAge1t0eXBlXX0gbmF0aXZlRmlsZSBbZGVzY3JpcHRpb25dXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICBbZGVzY3JpcHRpb25dXG5cdCAqL1xuXHR2YXIgZ2V0RmlsZVR5cGUgPSBmdW5jdGlvbiAobmF0aXZlRmlsZSkge1xuXHRcdC8vIEZpeCBjaHJvbWl1bSBpc3N1ZSAxMDUzODI6IEV4Y2VsICgueGxzKSBGaWxlUmVhZGVyIG1pbWUgdHlwZSBpcyBlbXB0eS5cblx0XHRpZiAoKC9cXC54bHMkLykudGVzdChuYXRpdmVGaWxlLm5hbWUpICYmICFuYXRpdmVGaWxlLnR5cGUpIHtcblx0XHRcdHJldHVybiAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsJztcblx0XHR9XG5cdFx0cmV0dXJuIG5hdGl2ZUZpbGUudHlwZTtcblx0fTtcblxuXHQvKipcblx0ICogVGFrZXMgdGhlIG5hdGl2ZSBmaWxlc2l6ZSBpbiBieXRlcyBhbmQgcmV0dXJucyB0aGUgcHJldHRpZmllZCBmaWxlc2l6ZVxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IG5hdGl2ZUZpbGUgW2Rlc2NyaXB0aW9uXVxuXHQgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0dmFyIGdldFJlYWRhYmxlRmlsZVNpemUgPSBmdW5jdGlvbihuYXRpdmVGaWxlKSB7XG5cdFx0dmFyIHNpemUgPSBuYXRpdmVGaWxlLnNpemU7XG5cblx0XHR2YXIgc3RyaW5nO1xuXG5cdFx0aWYgKHNpemUgPj0gMTAyNCAqIDEwMjQgKiAxMDI0ICogMTAyNCApIHtcblx0XHRcdHNpemUgPSBzaXplIC8gKDEwMjQgKiAxMDI0ICogMTAyNCAqIDEwMjQgLyAxMCk7XG5cdFx0XHRzdHJpbmcgPSAnVEInO1xuXHRcdH0gZWxzZSBpZiAoc2l6ZSA+PSAxMDI0ICogMTAyNCAqIDEwMjQgKSB7XG5cdFx0XHRzaXplID0gc2l6ZSAvICgxMDI0ICogMTAyNCAqIDEwMjQgLyAxMCk7XG5cdFx0XHRzdHJpbmcgPSAnR0InO1xuXHRcdH0gZWxzZSBpZiAoc2l6ZSA+PSAxMDI0ICogMTAyNCkge1xuXHRcdFx0c2l6ZSA9IHNpemUgLyAoMTAyNCAqIDEwMjQgLyAxMCk7XG5cdFx0XHRzdHJpbmcgPSAnTUInO1xuXHRcdH0gZWxzZSBpZiAoc2l6ZSA+PSAxMDI0KSB7XG5cdFx0XHRzaXplID0gc2l6ZSAvICgxMDI0IC8gMTApO1xuXHRcdFx0c3RyaW5nID0gJ2tCJztcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2l6ZSA9IHNpemUgKiAxMDtcblx0XHRcdHN0cmluZyA9ICdCJztcblx0XHR9XG5cblx0XHRyZXR1cm4gKE1hdGgucm91bmQoc2l6ZSkgLyAxMCkgKyAnICcgKyBzdHJpbmc7XG5cdH07XG5cblx0LyoqXG5cdCAqIFtnZXRSZWFkYWJsZUZpbGVUeXBlIGRlc2NyaXB0aW9uXVxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IG5hdGl2ZUZpbGUgW2Rlc2NyaXB0aW9uXVxuXHQgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0dmFyIGdldFJlYWRhYmxlRmlsZVR5cGUgPSBmdW5jdGlvbiAobmF0aXZlRmlsZSkge1xuXHRcdHJldHVybiBvcHRpb25zLmFjY2VwdGVkVHlwZXNbZ2V0RmlsZVR5cGUobmF0aXZlRmlsZSldIHx8ICdVbmJla2FubnQnO1xuXHR9O1xuXG5cdHZhciBpc0ltYWdlID0gZnVuY3Rpb24obmF0aXZlRmlsZSkge1xuXHRcdHJldHVybiAoL15pbWFnZVxcLy8pLnRlc3QoZ2V0RmlsZVR5cGUobmF0aXZlRmlsZSkpO1xuXHR9O1xuXG5cdHZhciBjb252ZXJ0VG9CYXNlNjRGaWxlID0gZnVuY3Rpb24gKG5hdGl2ZUZpbGUpIHtcblx0XHR2YXIgZGVmZXJyZWQgPSAkLkRlZmVycmVkKCk7XG5cdFx0dmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cblx0XHRyZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHtcblx0XHRcdFx0ZGF0YTogZXZlbnQudGFyZ2V0LnJlc3VsdCxcblx0XHRcdFx0bmF0aXZlRmlsZSA6IG5hdGl2ZUZpbGVcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHRyZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRkZWZlcnJlZC5yZWplY3QodGhpcyk7XG5cdFx0fTtcblxuXHRcdHJlYWRlci5yZWFkQXNEYXRhVVJMKG5hdGl2ZUZpbGUpO1xuXG5cdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2UoKTtcblx0fTtcblxuXHR2YXIgcGFyc2VCYXNlNjRGaWxlcyA9IGZ1bmN0aW9uIChuYXRpdmVGaWxlcykge1xuXHRcdHJldHVybiAkLndoZW4uYXBwbHkobnVsbCwgbmF0aXZlRmlsZXMubWFwKGZ1bmN0aW9uIChuYXRpdmVGaWxlKSB7XG5cdFx0XHRyZXR1cm4gY29udmVydFRvQmFzZTY0RmlsZShuYXRpdmVGaWxlKTtcblx0XHR9KSkudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gdG9BcnJheShhcmd1bWVudHMpO1xuXHRcdH0pO1xuXHR9O1xuXG5cdHZhciB0cmFja0ZpbGUgPSBmdW5jdGlvbiAobmF0aXZlRmlsZSkge1xuXHRcdGZpbGVOdW1iZXIgKz0gMTtcblx0XHRyZXF1ZXN0U2l6ZSArPSBuYXRpdmVGaWxlLnNpemU7XG5cdH07XG5cblx0dmFyIHVudHJhY2tGaWxlID0gZnVuY3Rpb24gKG5hdGl2ZUZpbGUpIHtcblx0XHRmaWxlTnVtYmVyIC09IDE7XG5cdFx0cmVxdWVzdFNpemUgLT0gbmF0aXZlRmlsZS5zaXplO1xuXHR9O1xuXG5cdHZhciByZW1vdmVFcnJvcnMgPSBmdW5jdGlvbiAoZmFkZU91dCkge1xuXHRcdHZhciAkZXJyb3JzID0gJGZpbGVVcGxvYWQuZmluZCgnLmVycm9yJyk7XG5cblx0XHRpZiAoZmFkZU91dCkge1xuXHRcdFx0JGVycm9ycy5mYWRlT3V0KDQwMCwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQkZXJyb3JzLnJlbW92ZSgpO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCRlcnJvcnMucmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xuXG5cdHZhciBlcnJvclRpbWVvdXRJZDtcblxuXHR2YXIgc2hvd0Vycm9yTWVzc2FnZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHRcdGNsZWFyVGltZW91dChlcnJvclRpbWVvdXRJZCk7XG5cblx0XHRlcnJvclRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlRXJyb3JzKHRydWUpO1xuXHRcdH0sIEVSUk9SX01FU1NBR0VfVElNRU9VVCk7XG5cblx0XHQkZHJvcEJveC5hZnRlcigkKCc8bGkgY2xhc3M9XCJlcnJvclwiPicgKyBlcnJvciArICc8bGk+JykpO1xuXHR9O1xuXG5cdHZhciB2YWxpZGF0ZUZpbGUgPSBmdW5jdGlvbihuYXRpdmVGaWxlKSB7XG5cdFx0dmFyIGhhc0Vycm9ycyA9IGZhbHNlO1xuXG5cdFx0aWYgKGZpbGVOdW1iZXIgPj0gb3B0aW9ucy5tYXhGaWxlTnVtYmVyKSB7XG5cdFx0XHRoYXNFcnJvcnMgPSB0cnVlO1xuXHRcdFx0c2hvd0Vycm9yTWVzc2FnZShvcHRpb25zLm1heEZpbGVOdW1iZXJFcnJvcik7XG5cdFx0fVxuXG5cdFx0aWYgKHJlcXVlc3RTaXplID49IG9wdGlvbnMubWF4UmVxdWVzdFNpemUpIHtcblx0XHRcdGhhc0Vycm9ycyA9IHRydWU7XG5cdFx0XHRzaG93RXJyb3JNZXNzYWdlKG9wdGlvbnMubWF4UmVxdWVzdFNpemVFcnJvcik7XG5cdFx0fVxuXG5cdFx0aWYgKCFvcHRpb25zLmFjY2VwdGVkVHlwZXNbZ2V0RmlsZVR5cGUobmF0aXZlRmlsZSldKSB7XG5cdFx0XHRoYXNFcnJvcnMgPSB0cnVlO1xuXHRcdFx0c2hvd0Vycm9yTWVzc2FnZShvcHRpb25zLmludmFsaWRGaWxlVHlwZUVycm9yKTtcblx0XHR9XG5cblx0XHRpZiAobmF0aXZlRmlsZS5zaXplID4gb3B0aW9ucy5tYXhGaWxlU2l6ZSkge1xuXHRcdFx0aGFzRXJyb3JzID0gdHJ1ZTtcblx0XHRcdHNob3dFcnJvck1lc3NhZ2Uob3B0aW9ucy5tYXhGaWxlU2l6ZUVycm9yKTtcblx0XHR9XG5cblx0XHRpZiAoISgvXltBLVphLXowLTkuXFwtXyBdKyQvKS50ZXN0KG5hdGl2ZUZpbGUubmFtZSkpIHtcblx0XHRcdGhhc0Vycm9ycyA9IHRydWU7XG5cdFx0XHRzaG93RXJyb3JNZXNzYWdlKGludmFsaWRGaWxlTmFtZUVycm9yKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gIWhhc0Vycm9ycztcblx0fTtcblxuXHR2YXIgYWRkRmlsZVByZXZpZXcgPSBmdW5jdGlvbihuYXRpdmVGaWxlLCAkZmlsZVZpZXdFbGVtZW50KSB7XG5cdFx0dmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cblx0XHR2YXIgJGltZ1dyYXBwZXIgPSAkKCc8c3BhbiBjbGFzcz1cInRodW1ibmFpbFwiPjwvc3Bhbj4nKTtcblxuXHRcdGlmKCEhb3B0aW9ucy5jaXJjbGVUaHVtYm5haWwpe1xuXHRcdFx0JGltZ1dyYXBwZXIuYWRkQ2xhc3MoJ2NpcmNsZScpO1xuXHRcdH1cblxuXHRcdHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRcdHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG5cdFx0XHRpZiAoaXNJbWFnZShuYXRpdmVGaWxlKSkge1xuXHRcdFx0XHRpbWFnZS5zcmMgPSBldmVudC50YXJnZXQucmVzdWx0O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aW1hZ2Uuc3JjID0gRU1QVFlfSU1BR0U7XG5cdFx0XHR9XG5cblx0XHRcdCRmaWxlVmlld0VsZW1lbnQucHJlcGVuZCgkaW1nV3JhcHBlci5hcHBlbmQoaW1hZ2UpKTtcblx0XHR9O1xuXG5cdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwobmF0aXZlRmlsZSk7XG5cdH07XG5cblx0dmFyIGFkZEZpbGVUb1ZpZXcgPSBmdW5jdGlvbihuYXRpdmVGaWxlLCByZW1vdmVIYW5kbGVyKSB7XG5cdFx0dmFyIGZpbGVTaXplID0gZ2V0UmVhZGFibGVGaWxlU2l6ZShuYXRpdmVGaWxlKTtcblx0XHR2YXIgZmlsZVR5cGUgPSBnZXRSZWFkYWJsZUZpbGVUeXBlKG5hdGl2ZUZpbGUpO1xuXG5cdFx0dmFyICRmaWxlVmlld0VsZW1lbnQgPSAkKCc8bGkgY2xhc3M9XCJmaWxlXCI+PC9saT4nKTtcblxuXHRcdCRmaWxlVmlld0VsZW1lbnQuYXBwZW5kKFtcblx0XHRcdCc8c3BhbiBjbGFzcz1cImxhYmVsIG5hbWVcIj4nLFxuXHRcdFx0bmF0aXZlRmlsZS5uYW1lLFxuXHRcdFx0Jzwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsIHNpemVcIj4nLFxuXHRcdFx0ZmlsZVNpemUsXG5cdFx0XHQnPC9zcGFuPjxzcGFuIGNsYXNzPVwibGFiZWwgdHlwZVwiPicsXG5cdFx0XHRmaWxlVHlwZSxcblx0XHRcdCc8L3NwYW4+J1xuXHRcdF0uam9pbignJykpO1xuXG5cdFx0dmFyICRyZW1vdmVCdXR0b24gPSAkKCc8c3Bhbi8+Jyk7XG5cblx0XHQkZmlsZVZpZXdFbGVtZW50LmFwcGVuZCgkcmVtb3ZlQnV0dG9uKTtcblxuXHRcdCRyZW1vdmVCdXR0b24uYWRkQ2xhc3MoJ3JlbW92ZScpO1xuXG5cdFx0JHJlbW92ZUJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHQkZmlsZVZpZXdFbGVtZW50LnJlbW92ZSgpO1xuXG5cdFx0XHRyZW1vdmVIYW5kbGVyKCk7XG5cdFx0fSk7XG5cblx0XHRpZiAoaGFzRmlsZVJlYWRlcikge1xuXHRcdFx0YWRkRmlsZVByZXZpZXcobmF0aXZlRmlsZSwgJGZpbGVWaWV3RWxlbWVudCk7XG5cdFx0fVxuXG5cdFx0JGZpbGVWaWV3LmFwcGVuZCgkZmlsZVZpZXdFbGVtZW50KTtcblx0fTtcblxuXHR2YXIgZmlsZUlucHV0SWQgPSAwO1xuXG5cdHZhciBhZGROZXdGaWxlSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyICRmaWxlSW5wdXQgPSAkKCc8aW5wdXQvPicpO1xuXG5cdFx0ZmlsZUlucHV0SWQgKz0gMTtcblxuXHRcdCRmaWxlSW5wdXQuYXR0cignbmFtZScsICdmaWxlSW5wdXQnICsgZmlsZUlucHV0SWQpO1xuXHRcdCRmaWxlSW5wdXQuYXR0cigndHlwZScsICdmaWxlJyk7XG5cdFx0JGZpbGVJbnB1dC5hZGRDbGFzcygnZmlsZWlucHV0Jyk7XG5cblx0XHQkZmlsZVNlbGVjdC5wcmVwZW5kKCRmaWxlSW5wdXQpO1xuXG5cdFx0JGZpbGVJbnB1dC5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlRXJyb3JzKGZhbHNlKTtcblxuXHRcdFx0dmFyIG5hdGl2ZUZpbGVzID0gdG9BcnJheSgkKHRoaXMpLnByb3AoJ2ZpbGVzJykpO1xuXG5cdFx0XHRpZiAoIW5hdGl2ZUZpbGVzLmxlbmd0aCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHZhciBuYXRpdmVGaWxlID0gbmF0aXZlRmlsZXNbMF07XG5cblx0XHRcdGlmICghdmFsaWRhdGVGaWxlKG5hdGl2ZUZpbGUpKSB7XG5cdFx0XHRcdCRmaWxlSW5wdXQucmVtb3ZlKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0cmFja0ZpbGUobmF0aXZlRmlsZSk7XG5cblx0XHRcdFx0JGZpbGVJbnB1dC5hcHBlbmRUbygkZmlsZUlucHV0cyk7XG5cblx0XHRcdFx0YWRkRmlsZVRvVmlldyhuYXRpdmVGaWxlLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0dW50cmFja0ZpbGUobmF0aXZlRmlsZSk7XG5cblx0XHRcdFx0XHQkZmlsZUlucHV0LnJlbW92ZSgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0YWRkTmV3RmlsZUlucHV0KCk7XG5cdFx0fSk7XG5cdH07XG5cblx0YWRkTmV3RmlsZUlucHV0KCk7XG5cblx0dmFyIGNyZWF0ZURuZEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRyZW1vdmVFcnJvcnMoZmFsc2UpO1xuXG5cdFx0dmFyIG5hdGl2ZUZpbGVzID0gdG9BcnJheShldmVudC5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcyk7XG5cblx0XHRwYXJzZUJhc2U2NEZpbGVzKG5hdGl2ZUZpbGVzKS5kb25lKGZ1bmN0aW9uIChiYXNlNjRGaWxlcykge1xuXHRcdFx0YmFzZTY0RmlsZXMuZXZlcnkoZnVuY3Rpb24gKGJhc2U2NEZpbGUpIHtcblx0XHRcdFx0dmFyIG5hdGl2ZUZpbGUgPSBiYXNlNjRGaWxlLm5hdGl2ZUZpbGU7XG5cblx0XHRcdFx0aWYgKCF2YWxpZGF0ZUZpbGUobmF0aXZlRmlsZSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0cmFja0ZpbGUobmF0aXZlRmlsZSk7XG5cblx0XHRcdFx0dmFyICRoaWRkZW5EYXRhRmllbGQgPSAkKCc8aW5wdXQgdHlwZT1cImhpZGRlblwiPicpO1xuXG5cdFx0XHRcdCRoaWRkZW5EYXRhRmllbGQudmFsKGJhc2U2NEZpbGUuZGF0YSk7XG5cdFx0XHRcdCRoaWRkZW5EYXRhRmllbGQuYXR0cignbmFtZScsICdmaWxlOicgKyBuYXRpdmVGaWxlLm5hbWUpO1xuXHRcdFx0XHQkaGlkZGVuRGF0YUZpZWxkLmFwcGVuZFRvKCRmaWxlSW5wdXRzKTtcblxuXHRcdFx0XHRhZGRGaWxlVG9WaWV3KG5hdGl2ZUZpbGUsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR1bnRyYWNrRmlsZShuYXRpdmVGaWxlKTtcblxuXHRcdFx0XHRcdCRoaWRkZW5EYXRhRmllbGQucmVtb3ZlKCk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH07XG5cblx0JGRyb3BCb3gub24oJ2Ryb3AnLCBmdW5jdGlvbihldmVudCkge1xuXHRcdG5vUHJvcGFnYXRpb24oZXZlbnQpO1xuXHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdGNyZWF0ZURuZEhhbmRsZXIoZXZlbnQpO1xuXHR9KTtcblxuXHQkZHJvcEJveC5vbignZHJhZ2VudGVyJywgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRub1Byb3BhZ2F0aW9uKGV2ZW50KTtcblx0fSk7XG5cblx0JGRyb3BCb3gub24oJ2RyYWdvdmVyJywgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRub1Byb3BhZ2F0aW9uKGV2ZW50KTtcblx0XHQkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcblx0fSk7XG5cblx0JGRyb3BCb3gub24oJ2RyYWdsZWF2ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0bm9Qcm9wYWdhdGlvbihldmVudCk7XG5cdFx0JCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdH0pO1xuXG5cdGlmICghaGFzRmlsZVJlYWRlcikge1xuXHRcdCRkcm9wQm94LmhpZGUoKTtcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFYXN5Rm9ybUZpbGVVcGxvYWQ7XG5cblxufSx7fV19LHt9LFsxXSkiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=