!function e(n,i,r){function t(o,l){if(!i[o]){if(!n[o]){var s="function"==typeof require&&require;if(!l&&s)return s(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=i[o]={exports:{}};n[o][0].call(u.exports,function(e){var i=n[o][1][e];return t(i?i:e)},u,u.exports,e,n,i,r)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)t(r[o]);return t}({1:[function(e){var n=e("./lib/easyfileupload.js"),i=function(){{var e=$(".js_fileupload"),i="/",r={maxFileSize:6145728};new n(e,i,r)}};$(document).ready(i)},{"./lib/easyfileupload.js":2}],2:[function(e,n){var i=function(e,n,i){var r=e.find(".js_selectfile"),t=e.find(".js_dropbox"),a=e.find(".js_list"),o=e.find(".js_fileinputs"),l=0,s=0,u={},f=this,p=function(e){return Array.prototype.slice.call(e,0)},c=function(){return!!(window.File&&window.FileList&&window.FileReader)},d=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},m={emptyImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII=",errorMessageTimeout:5e3,maxFileSize:3145728,maxFileNumber:3,maxRequestSize:9437184,errorMessages:{invalidFileNameError:"Der Dateiname enthält ungültige Zeichen.",invalidFileTypeError:"Ein Dateiformat ist nicht zugelassen. Bitte wählen sie ein anderes Dateiformat.",maxRequestSizeError:"Das Datenlimit für den Upload von Dateien ist überschritten.",maxFileNumberError:"Sie können nur maximal 3 Dateien anhängen.",maxFileSizeError:"Eine Datei ist zu groß. Maximal 3 MB pro Datei sind zugelassen."},acceptedTypes:{"image/png":"PNG-Bild","image/jpeg":"JPEG-Bild","image/gif":"GIF-Bild","image/tiff":"TIFF-Bild","application/pdf":"PDF-Dokument","application/vnd.ms-excel":"Excel-Dokument","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel-Dokument","application/msword":"Word-Dokument","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"Word-Dokument"}};for(var v in m)i.hasOwnProperty(v)?(u[v]=i[v],"function"==typeof u[v]&&(u[v]=u[v].bind(f))):u[v]=m[v];var A,g=function(e){return/\.xls$/.test(e.name)&&!e.type?"application/vnd.ms-excel":e.type},h=function(e){var n,i=e.size;return i>=1099511627776?(i/=109951162777.6,n="TB"):i>=1073741824?(i/=107374182.4,n="GB"):i>=1048576?(i/=104857.6,n="MB"):i>=1024?(i/=102.4,n="kB"):(i=10*i,n="B"),Math.round(i)/10+" "+n},x=function(e){return u.acceptedTypes[g(e)]||"Unbekannt"},E=function(e){return/^image\//.test(g(e))},F=function(e){var n=$.Deferred(),i=new FileReader;return i.onload=function(i){n.resolve({data:i.target.result,nativeFile:e})},i.onerror=function(){n.reject(this)},i.readAsDataURL(e),n.promise()},y=function(e){return $.when.apply(null,e.map(function(e){return F(e)})).then(function(){return p(arguments)})},D=function(e){l+=1,s+=e.size},w=function(e){l-=1,s-=e.size},z=function(n){var i=e.find(".error");n?i.fadeOut(400,function(){i.remove()}):i.remove()},b=function(e){clearTimeout(A),A=setTimeout(function(){z(!0)},ERROR_MESSAGE_TIMEOUT),t.after($('<li class="error">'+e+"<li>"))},T=function(e){var n=!1,i=u.errorMessages;return l>=u.maxFileNumber&&(n=!0,b(i.maxFileNumberError)),s>=u.maxRequestSize&&(n=!0,b(i.maxRequestSizeError)),u.acceptedTypes[g(e)]||(n=!0,b(i.invalidFileTypeError)),e.size>u.maxFileSize&&(n=!0,b(i.maxFileSizeError)),/^[A-Za-z0-9.\-_ ]+$/.test(e.name)||(n=!0,b(invalidFileNameError)),!n},R=function(e,n){var i=new FileReader,r=$('<span class="thumbnail"></span>');i.onload=function(i){var t=new Image;t.src=E(e)?i.target.result:EMPTY_IMAGE,t.width=100,n.prepend(r.append(t))},i.readAsDataURL(e)},M=function(e,n){var i=h(e),r=x(e),t=$('<li class="file"></li>');t.append(['<span class="label name">',e.name,'</span><span class="label size">',i,'</span><span class="label type">',r,"</span>"].join(""));var o=$("<span/>");t.append(o),o.addClass("remove"),o.on("click",function(){t.remove(),n()}),c&&R(e,t),a.append(t)},S=0,B=function(){var e=$("<input/>");S+=1,e.attr("name","fileInput"+S),e.attr("type","file"),e.addClass("fileinput"),r.prepend(e),e.on("change",function(){z(!1);var n=p($(this).prop("files"));if(n.length){var i=n[0];T(i)?(D(i),e.appendTo(o),M(i,function(){w(i),e.remove()})):e.remove(),B()}})};B();var j=function(e){z(!1);var n=p(e.originalEvent.dataTransfer.files);y(n).done(function(e){e.every(function(e){var n=e.nativeFile;if(!T(n))return!1;D(n);var i=$('<input type="hidden">');return i.val(e.data),i.attr("name","file:"+n.name),i.appendTo(o),M(n,function(){w(n),i.remove()}),!0})})};t.on("drop",function(e){d(e),$(this).removeClass("active"),j(e)}),t.on("dragenter",function(e){d(e)}),t.on("dragover",function(e){d(e),$(this).addClass("active")}),t.on("dragleave",function(e){d(e),$(this).removeClass("active")}),c||t.hide()};n.exports=i},{}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlcyI6WyJhcHAuanMiXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsIkVycm9yIiwiZiIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwxLCJFYXN5RmlsZXVwbG9hZCIsImluaXRpYWxpemVGaWxlVXBsb2FkIiwiJGZpbGVVcGxvYWQiLCIkIiwidXJsIiwib3B0aW9ucyIsIm1heEZpbGVTaXplIiwiZG9jdW1lbnQiLCJyZWFkeSIsIi4vbGliL2Vhc3lmaWxldXBsb2FkLmpzIiwyLCJtb2R1bGUiLCJFYXN5RmlsZVVwbG9hZCIsIm9wdHMiLCIkc2VsZWN0QnV0dG9uIiwiZmluZCIsIiRkcm9wQm94IiwiJGZpbGVWaWV3IiwiJGZpbGVJbnB1dHMiLCJmaWxlTnVtYmVyIiwicmVxdWVzdFNpemUiLCJzZWxmIiwidGhpcyIsInRvQXJyYXkiLCJvYmplY3QiLCJBcnJheSIsInByb3RvdHlwZSIsInNsaWNlIiwiaGFzRmlsZVJlYWRlciIsIndpbmRvdyIsIkZpbGUiLCJGaWxlTGlzdCIsIkZpbGVSZWFkZXIiLCJub1Byb3BhZ2F0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJyZXR1cm5WYWx1ZSIsImRlZmF1bHRPcHRpb25zIiwiZW1wdHlJbWFnZSIsImVycm9yTWVzc2FnZVRpbWVvdXQiLCJtYXhGaWxlTnVtYmVyIiwibWF4UmVxdWVzdFNpemUiLCJlcnJvck1lc3NhZ2VzIiwiaW52YWxpZEZpbGVOYW1lRXJyb3IiLCJpbnZhbGlkRmlsZVR5cGVFcnJvciIsIm1heFJlcXVlc3RTaXplRXJyb3IiLCJtYXhGaWxlTnVtYmVyRXJyb3IiLCJtYXhGaWxlU2l6ZUVycm9yIiwiYWNjZXB0ZWRUeXBlcyIsImltYWdlL3BuZyIsImltYWdlL2pwZWciLCJpbWFnZS9naWYiLCJpbWFnZS90aWZmIiwiYXBwbGljYXRpb24vcGRmIiwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsIiwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQiLCJhcHBsaWNhdGlvbi9tc3dvcmQiLCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudCIsImhhc093blByb3BlcnR5IiwiYmluZCIsImVycm9yVGltZW91dElkIiwiZ2V0RmlsZVR5cGUiLCJuYXRpdmVGaWxlIiwidGVzdCIsIm5hbWUiLCJ0eXBlIiwiZ2V0UmVhZGFibGVGaWxlU2l6ZSIsInN0cmluZyIsInNpemUiLCJNYXRoIiwicm91bmQiLCJnZXRSZWFkYWJsZUZpbGVUeXBlIiwiaXNJbWFnZSIsImNvbnZlcnRUb0Jhc2U2NEZpbGUiLCJkZWZlcnJlZCIsIkRlZmVycmVkIiwicmVhZGVyIiwib25sb2FkIiwiZXZlbnQiLCJyZXNvbHZlIiwiZGF0YSIsInRhcmdldCIsInJlc3VsdCIsIm9uZXJyb3IiLCJyZWplY3QiLCJyZWFkQXNEYXRhVVJMIiwicHJvbWlzZSIsInBhcnNlQmFzZTY0RmlsZXMiLCJuYXRpdmVGaWxlcyIsIndoZW4iLCJhcHBseSIsIm1hcCIsInRoZW4iLCJhcmd1bWVudHMiLCJ0cmFja0ZpbGUiLCJ1bnRyYWNrRmlsZSIsInJlbW92ZUVycm9ycyIsImZhZGVPdXQiLCIkZXJyb3JzIiwicmVtb3ZlIiwic2hvd0Vycm9yTWVzc2FnZSIsImVycm9yIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIkVSUk9SX01FU1NBR0VfVElNRU9VVCIsImFmdGVyIiwidmFsaWRhdGVGaWxlIiwiaGFzRXJyb3JzIiwiYWRkRmlsZVByZXZpZXciLCIkZmlsZVZpZXdFbGVtZW50IiwiJGltZ1dyYXBwZXIiLCJpbWFnZSIsIkltYWdlIiwic3JjIiwiRU1QVFlfSU1BR0UiLCJ3aWR0aCIsInByZXBlbmQiLCJhcHBlbmQiLCJhZGRGaWxlVG9WaWV3IiwicmVtb3ZlSGFuZGxlciIsImZpbGVTaXplIiwiZmlsZVR5cGUiLCJqb2luIiwiJHJlbW92ZUJ1dHRvbiIsImFkZENsYXNzIiwib24iLCJmaWxlSW5wdXRJZCIsImFkZE5ld0ZpbGVJbnB1dCIsIiRmaWxlSW5wdXQiLCJhdHRyIiwicHJvcCIsImFwcGVuZFRvIiwiY3JlYXRlRG5kSGFuZGxlciIsIm9yaWdpbmFsRXZlbnQiLCJkYXRhVHJhbnNmZXIiLCJmaWxlcyIsImRvbmUiLCJiYXNlNjRGaWxlcyIsImV2ZXJ5IiwiYmFzZTY0RmlsZSIsIiRoaWRkZW5EYXRhRmllbGQiLCJ2YWwiLCJyZW1vdmVDbGFzcyIsImhpZGUiXSwibWFwcGluZ3MiOiJDQUFBLFFBQVVBLEdBQUVDLEVBQUVDLEVBQUVDLEdBQUcsUUFBU0MsR0FBRUMsRUFBRUMsR0FBRyxJQUFJSixFQUFFRyxHQUFHLENBQUMsSUFBSUosRUFBRUksR0FBRyxDQUFDLEdBQUlFLEdBQWtCLGtCQUFUQyxVQUFxQkEsT0FBUSxLQUFJRixHQUFHQyxFQUFFLE1BQU9BLEdBQUVGLEdBQUUsRUFBSSxJQUFHSSxFQUFFLE1BQU9BLEdBQUVKLEdBQUUsRUFBSSxNQUFNLElBQUlLLE9BQU0sdUJBQXVCTCxFQUFFLEtBQUssR0FBSU0sR0FBRVQsRUFBRUcsSUFBSU8sV0FBWVgsR0FBRUksR0FBRyxHQUFHUSxLQUFLRixFQUFFQyxRQUFRLFNBQVNaLEdBQUcsR0FBSUUsR0FBRUQsRUFBRUksR0FBRyxHQUFHTCxFQUFHLE9BQU9JLEdBQUVGLEVBQUVBLEVBQUVGLElBQUlXLEVBQUVBLEVBQUVDLFFBQVFaLEVBQUVDLEVBQUVDLEVBQUVDLEdBQUcsTUFBT0QsR0FBRUcsR0FBR08sUUFBa0QsSUFBSSxHQUExQ0gsR0FBa0Isa0JBQVRELFVBQXFCQSxRQUFnQkgsRUFBRSxFQUFFQSxFQUFFRixFQUFFVyxPQUFPVCxJQUFJRCxFQUFFRCxFQUFFRSxHQUFJLE9BQU9ELEtBQUtXLEdBQUcsU0FBU1AsR0FDdGEsR0FBSVEsR0FBaUJSLEVBQVEsMkJBRXpCUyxFQUF1QixXQUMxQixDQUFBLEdBQUlDLEdBQWNDLEVB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R0FBVWhDLEVBRVYsSUFBSThFLEdBQW1CekksRUFBRSx3QkFZekIsT0FWQXlJLEdBQWlCQyxJQUFJRixFQUFXM0QsTUFDaEM0RCxFQUFpQlgsS0FBSyxPQUFRLFFBQVVuRSxFQUFXRSxNQUNuRDRFLEVBQWlCVCxTQUFTakgsR0FFMUJvRyxFQUFjeEQsRUFBWSxXQUN6QmlDLEVBQVlqQyxHQUVaOEUsRUFBaUJ6QyxZQUdYLE1BS1ZuRixHQUFTNkcsR0FBRyxPQUFRLFNBQVMvQyxHQUM1QjdDLEVBQWM2QyxHQUNkM0UsRUFBRW1CLE1BQU13SCxZQUFZLFVBQ3BCVixFQUFpQnRELEtBR2xCOUQsRUFBUzZHLEdBQUcsWUFBYSxTQUFTL0MsR0FDakM3QyxFQUFjNkMsS0FHZjlELEVBQVM2RyxHQUFHLFdBQVksU0FBUy9DLEdBQ2hDN0MsRUFBYzZDLEdBQ2QzRSxFQUFFbUIsTUFBTXNHLFNBQVMsWUFHbEI1RyxFQUFTNkcsR0FBRyxZQUFhLFNBQVMvQyxHQUNqQzdDLEVBQWM2QyxHQUNkM0UsRUFBRW1CLE1BQU13SCxZQUFZLFlBR2hCbEgsR0FDSlosRUFBUytILE9BS1hwSSxHQUFPZixRQUFVZ0IsWUFHTiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKX12YXIgZj1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxmLGYuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBFYXN5RmlsZXVwbG9hZCA9IHJlcXVpcmUoJy4vbGliL2Vhc3lmaWxldXBsb2FkLmpzJyk7XG5cbnZhciBpbml0aWFsaXplRmlsZVVwbG9hZCA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgJGZpbGVVcGxvYWQgPSAkKCcuanNfZmlsZXVwbG9hZCcpO1xuXG5cdHZhciB1cmwgPSAnLyc7XG5cblx0dmFyIG9wdGlvbnMgPSB7XG5cdFx0bWF4RmlsZVNpemU6IDYxNDU3Mjhcblx0fTtcblxuXHR2YXIgZWFzeUZpbGV1cGxvYWQgPSBuZXcgRWFzeUZpbGV1cGxvYWQoJGZpbGVVcGxvYWQsIHVybCwgb3B0aW9ucyk7XG59O1xuXG4kKGRvY3VtZW50KS5yZWFkeShpbml0aWFsaXplRmlsZVVwbG9hZCk7XG5cbn0se1wiLi9saWIvZWFzeWZpbGV1cGxvYWQuanNcIjoyfV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgRWFzeUZpbGVVcGxvYWQgPSBmdW5jdGlvbigkZmlsZVVwbG9hZCwgdXJsLCBvcHRzKSB7XG5cdHZhciAkc2VsZWN0QnV0dG9uID0gJGZpbGVVcGxvYWQuZmluZCgnLmpzX3NlbGVjdGZpbGUnKTtcblx0dmFyICRkcm9wQm94ICAgICAgPSAkZmlsZVVwbG9hZC5maW5kKCcuanNfZHJvcGJveCcpO1xuXHR2YXIgJGZpbGVWaWV3ICAgICA9ICRmaWxlVXBsb2FkLmZpbmQoJy5qc19saXN0Jyk7XG5cdHZhciAkZmlsZUlucHV0cyAgID0gJGZpbGVVcGxvYWQuZmluZCgnLmpzX2ZpbGVpbnB1dHMnKTtcblxuXHR2YXIgZmlsZU51bWJlciAgICA9IDA7XG5cdHZhciByZXF1ZXN0U2l6ZSAgID0gMDtcblx0dmFyIG9wdGlvbnMgICAgICAgPSB7fTtcblxuXHR2YXIgc2VsZiAgICAgICAgICA9IHRoaXM7XG5cblx0dmFyIHRvQXJyYXkgPSBmdW5jdGlvbihvYmplY3QpIHtcblx0XHRyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwob2JqZWN0LCAwKTtcblx0fTtcblxuXHR2YXIgaGFzRmlsZVJlYWRlciA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAhISh3aW5kb3cuRmlsZSAmJiB3aW5kb3cuRmlsZUxpc3QgJiYgd2luZG93LkZpbGVSZWFkZXIpO1xuXHR9O1xuXG5cdHZhciBub1Byb3BhZ2F0aW9uID0gZnVuY3Rpb24oZSkge1xuXHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0aWYgKGUucHJldmVudERlZmF1bHQpIHtcblx0XHRcdHJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBlLnJldHVyblZhbHVlID0gZmFsc2U7XG5cdFx0fVxuXHR9O1xuXG5cdHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcblx0XHRlbXB0eUltYWdlOiAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFCQVFNQUFBQWwyMWJLQUFBQUExQk1WRVVBQUFDbmVqM2FBQUFBQVhSU1RsTUFRT2JZWmdBQUFBcEpSRUZVQ05kallBQUFBQUlBQWVJaHZETUFBQUFBU1VWT1JLNUNZSUk9Jyxcblx0XHRlcnJvck1lc3NhZ2VUaW1lb3V0OiA1MDAwLFxuXHRcdG1heEZpbGVTaXplOiAzMTQ1NzI4LFxuXHRcdG1heEZpbGVOdW1iZXI6IDMsXG5cdFx0bWF4UmVxdWVzdFNpemU6IDk0MzcxODQsXG5cdFx0ZXJyb3JNZXNzYWdlczoge1xuXHRcdFx0aW52YWxpZEZpbGVOYW1lRXJyb3I6ICdEZXIgRGF0ZWluYW1lIGVudGjDpGx0IHVuZ8O8bHRpZ2UgWmVpY2hlbi4nLFxuXHRcdFx0aW52YWxpZEZpbGVUeXBlRXJyb3I6ICdFaW4gRGF0ZWlmb3JtYXQgaXN0IG5pY2h0IHp1Z2VsYXNzZW4uIEJpdHRlIHfDpGhsZW4gc2llIGVpbiBhbmRlcmVzIERhdGVpZm9ybWF0LicsXG5cdFx0XHRtYXhSZXF1ZXN0U2l6ZUVycm9yOiAnRGFzIERhdGVubGltaXQgZsO8ciBkZW4gVXBsb2FkIHZvbiBEYXRlaWVuIGlzdCDDvGJlcnNjaHJpdHRlbi4nLFxuXHRcdFx0bWF4RmlsZU51bWJlckVycm9yOiAnU2llIGvDtm5uZW4gbnVyIG1heGltYWwgMyBEYXRlaWVuIGFuaMOkbmdlbi4nLFxuXHRcdFx0bWF4RmlsZVNpemVFcnJvcjogJ0VpbmUgRGF0ZWkgaXN0IHp1IGdyb8OfLiBNYXhpbWFsIDMgTUIgcHJvIERhdGVpIHNpbmQgenVnZWxhc3Nlbi4nXG5cdFx0fSxcblx0XHRhY2NlcHRlZFR5cGVzOiB7XG5cdFx0XHQnaW1hZ2UvcG5nJzogJ1BORy1CaWxkJyxcblx0XHRcdCdpbWFnZS9qcGVnJzogJ0pQRUctQmlsZCcsXG5cdFx0XHQnaW1hZ2UvZ2lmJzogJ0dJRi1CaWxkJyxcblx0XHRcdCdpbWFnZS90aWZmJzogJ1RJRkYtQmlsZCcsXG5cdFx0XHQnYXBwbGljYXRpb24vcGRmJzogJ1BERi1Eb2t1bWVudCcsXG5cdFx0XHQnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsJzogJ0V4Y2VsLURva3VtZW50Jyxcblx0XHRcdCdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldCc6ICdFeGNlbC1Eb2t1bWVudCcsXG5cdFx0XHQnYXBwbGljYXRpb24vbXN3b3JkJzogJ1dvcmQtRG9rdW1lbnQnLFxuXHRcdFx0J2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50JzogJ1dvcmQtRG9rdW1lbnQnXG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBNZXJnZSBkZWZhdWx0b3B0aW9ucyBhbmQgdXNlcm9wdGlvbnMgaW4gb25lIG9iamVjdFxuXHQgKi9cblx0Zm9yICh2YXIgaSBpbiBkZWZhdWx0T3B0aW9ucykge1xuXHRcdGlmKG9wdHMuaGFzT3duUHJvcGVydHkoaSkpIHtcblx0XHRcdG9wdGlvbnNbaV0gPSBvcHRzW2ldO1xuXHRcdFx0aWYgKHR5cGVvZihvcHRpb25zW2ldKSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRvcHRpb25zW2ldID0gb3B0aW9uc1tpXS5iaW5kKHNlbGYpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZXtcblx0XHRcdG9wdGlvbnNbaV0gPSBkZWZhdWx0T3B0aW9uc1tpXTtcblx0XHR9XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBGaWxldHlwZVxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IG5hdGl2ZUZpbGUgW2Rlc2NyaXB0aW9uXVxuXHQgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0dmFyIGdldEZpbGVUeXBlID0gZnVuY3Rpb24gKG5hdGl2ZUZpbGUpIHtcblx0XHQvLyBGaXggY2hyb21pdW0gaXNzdWUgMTA1MzgyOiBFeGNlbCAoLnhscykgRmlsZVJlYWRlciBtaW1lIHR5cGUgaXMgZW1wdHkuXG5cdFx0aWYgKCgvXFwueGxzJC8pLnRlc3QobmF0aXZlRmlsZS5uYW1lKSAmJiAhbmF0aXZlRmlsZS50eXBlKSB7XG5cdFx0XHRyZXR1cm4gJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCc7XG5cdFx0fVxuXHRcdHJldHVybiBuYXRpdmVGaWxlLnR5cGU7XG5cdH07XG5cblxuXHQvKipcblx0ICogVGFrZXMgdGhlIG5hdGl2ZSBmaWxlc2l6ZSBpbiBieXRlcyBhbmQgcmV0dXJucyB0aGUgcHJldHRpZmllZCBmaWxlc2l6ZVxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IG5hdGl2ZUZpbGUgW2Rlc2NyaXB0aW9uXVxuXHQgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0dmFyIGdldFJlYWRhYmxlRmlsZVNpemUgPSBmdW5jdGlvbihuYXRpdmVGaWxlKSB7XG5cdFx0dmFyIHNpemUgPSBuYXRpdmVGaWxlLnNpemU7XG5cblx0XHR2YXIgc3RyaW5nO1xuXG5cdFx0aWYgKHNpemUgPj0gMTAyNCAqIDEwMjQgKiAxMDI0ICogMTAyNCApIHtcblx0XHRcdHNpemUgPSBzaXplIC8gKDEwMjQgKiAxMDI0ICogMTAyNCAqIDEwMjQgLyAxMCk7XG5cdFx0XHRzdHJpbmcgPSAnVEInO1xuXHRcdH0gZWxzZSBpZiAoc2l6ZSA+PSAxMDI0ICogMTAyNCAqIDEwMjQgKSB7XG5cdFx0XHRzaXplID0gc2l6ZSAvICgxMDI0ICogMTAyNCAqIDEwMjQgLyAxMCk7XG5cdFx0XHRzdHJpbmcgPSAnR0InO1xuXHRcdH0gZWxzZSBpZiAoc2l6ZSA+PSAxMDI0ICogMTAyNCkge1xuXHRcdFx0c2l6ZSA9IHNpemUgLyAoMTAyNCAqIDEwMjQgLyAxMCk7XG5cdFx0XHRzdHJpbmcgPSAnTUInO1xuXHRcdH0gZWxzZSBpZiAoc2l6ZSA+PSAxMDI0KSB7XG5cdFx0XHRzaXplID0gc2l6ZSAvICgxMDI0IC8gMTApO1xuXHRcdFx0c3RyaW5nID0gJ2tCJztcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2l6ZSA9IHNpemUgKiAxMDtcblx0XHRcdHN0cmluZyA9ICdCJztcblx0XHR9XG5cblx0XHRyZXR1cm4gKE1hdGgucm91bmQoc2l6ZSkgLyAxMCkgKyAnICcgKyBzdHJpbmc7XG5cdH07XG5cblx0dmFyIGdldFJlYWRhYmxlRmlsZVR5cGUgPSBmdW5jdGlvbiAobmF0aXZlRmlsZSkge1xuXHRcdHJldHVybiBvcHRpb25zLmFjY2VwdGVkVHlwZXNbZ2V0RmlsZVR5cGUobmF0aXZlRmlsZSldIHx8ICdVbmJla2FubnQnO1xuXHR9O1xuXG5cdHZhciBpc0ltYWdlID0gZnVuY3Rpb24obmF0aXZlRmlsZSkge1xuXHRcdHJldHVybiAoL15pbWFnZVxcLy8pLnRlc3QoZ2V0RmlsZVR5cGUobmF0aXZlRmlsZSkpO1xuXHR9O1xuXG5cdHZhciBjb252ZXJ0VG9CYXNlNjRGaWxlID0gZnVuY3Rpb24gKG5hdGl2ZUZpbGUpIHtcblx0XHQvKiBlc2xpbnQgbmV3LWNhcDogMCAqL1xuXHRcdHZhciBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcblx0XHR2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuXHRcdHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRcdGRlZmVycmVkLnJlc29sdmUoe1xuXHRcdFx0XHRkYXRhOiBldmVudC50YXJnZXQucmVzdWx0LFxuXHRcdFx0XHRuYXRpdmVGaWxlIDogbmF0aXZlRmlsZVxuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKXtcblx0XHRcdGRlZmVycmVkLnJlamVjdCh0aGlzKTtcblx0XHR9O1xuXG5cdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwobmF0aXZlRmlsZSk7XG5cblx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xuXHR9O1xuXG5cdHZhciBwYXJzZUJhc2U2NEZpbGVzID0gZnVuY3Rpb24gKG5hdGl2ZUZpbGVzKSB7XG5cdFx0cmV0dXJuICQud2hlbi5hcHBseShudWxsLCBuYXRpdmVGaWxlcy5tYXAoZnVuY3Rpb24gKG5hdGl2ZUZpbGUpIHtcblx0XHRcdHJldHVybiBjb252ZXJ0VG9CYXNlNjRGaWxlKG5hdGl2ZUZpbGUpO1xuXHRcdH0pKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiB0b0FycmF5KGFyZ3VtZW50cyk7XG5cdFx0fSk7XG5cdH07XG5cblx0dmFyIHRyYWNrRmlsZSA9IGZ1bmN0aW9uIChuYXRpdmVGaWxlKSB7XG5cdFx0ZmlsZU51bWJlciArPSAxO1xuXHRcdHJlcXVlc3RTaXplICs9IG5hdGl2ZUZpbGUuc2l6ZTtcblx0fTtcblxuXHR2YXIgdW50cmFja0ZpbGUgPSBmdW5jdGlvbiAobmF0aXZlRmlsZSkge1xuXHRcdGZpbGVOdW1iZXIgLT0gMTtcblx0XHRyZXF1ZXN0U2l6ZSAtPSBuYXRpdmVGaWxlLnNpemU7XG5cdH07XG5cblx0dmFyIHJlbW92ZUVycm9ycyA9IGZ1bmN0aW9uIChmYWRlT3V0KSB7XG5cdFx0dmFyICRlcnJvcnMgPSAkZmlsZVVwbG9hZC5maW5kKCcuZXJyb3InKTtcblxuXHRcdGlmIChmYWRlT3V0KSB7XG5cdFx0XHQkZXJyb3JzLmZhZGVPdXQoNDAwLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCRlcnJvcnMucmVtb3ZlKCk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JGVycm9ycy5yZW1vdmUoKTtcblx0XHR9XG5cdH07XG5cblx0dmFyIGVycm9yVGltZW91dElkO1xuXG5cdHZhciBzaG93RXJyb3JNZXNzYWdlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdFx0Y2xlYXJUaW1lb3V0KGVycm9yVGltZW91dElkKTtcblxuXHRcdGVycm9yVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVFcnJvcnModHJ1ZSk7XG5cdFx0fSwgRVJST1JfTUVTU0FHRV9USU1FT1VUKTtcblxuXHRcdCRkcm9wQm94LmFmdGVyKCQoJzxsaSBjbGFzcz1cImVycm9yXCI+JyArIGVycm9yICsgJzxsaT4nKSk7XG5cdH07XG5cblx0dmFyIHZhbGlkYXRlRmlsZSA9IGZ1bmN0aW9uKG5hdGl2ZUZpbGUpIHtcblx0XHR2YXIgaGFzRXJyb3JzID0gZmFsc2U7XG5cdFx0dmFyIGVycm9yTWVzc2FnZXMgPSBvcHRpb25zLmVycm9yTWVzc2FnZXM7XG5cblx0XHRpZiAoZmlsZU51bWJlciA+PSBvcHRpb25zLm1heEZpbGVOdW1iZXIpIHtcblx0XHRcdGhhc0Vycm9ycyA9IHRydWU7XG5cdFx0XHRzaG93RXJyb3JNZXNzYWdlKGVycm9yTWVzc2FnZXMubWF4RmlsZU51bWJlckVycm9yKTtcblx0XHR9XG5cblx0XHRpZiAocmVxdWVzdFNpemUgPj0gb3B0aW9ucy5tYXhSZXF1ZXN0U2l6ZSkge1xuXHRcdFx0aGFzRXJyb3JzID0gdHJ1ZTtcblx0XHRcdHNob3dFcnJvck1lc3NhZ2UoZXJyb3JNZXNzYWdlcy5tYXhSZXF1ZXN0U2l6ZUVycm9yKTtcblx0XHR9XG5cblx0XHRpZiAoIW9wdGlvbnMuYWNjZXB0ZWRUeXBlc1tnZXRGaWxlVHlwZShuYXRpdmVGaWxlKV0pIHtcblx0XHRcdGhhc0Vycm9ycyA9IHRydWU7XG5cdFx0XHRzaG93RXJyb3JNZXNzYWdlKGVycm9yTWVzc2FnZXMuaW52YWxpZEZpbGVUeXBlRXJyb3IpO1xuXHRcdH1cblxuXHRcdGlmIChuYXRpdmVGaWxlLnNpemUgPiBvcHRpb25zLm1heEZpbGVTaXplKSB7XG5cdFx0XHRoYXNFcnJvcnMgPSB0cnVlO1xuXHRcdFx0c2hvd0Vycm9yTWVzc2FnZShlcnJvck1lc3NhZ2VzLm1heEZpbGVTaXplRXJyb3IpO1xuXHRcdH1cblxuXHRcdGlmICghKC9eW0EtWmEtejAtOS5cXC1fIF0rJC8pLnRlc3QobmF0aXZlRmlsZS5uYW1lKSkge1xuXHRcdFx0aGFzRXJyb3JzID0gdHJ1ZTtcblx0XHRcdHNob3dFcnJvck1lc3NhZ2UoaW52YWxpZEZpbGVOYW1lRXJyb3IpO1xuXHRcdH1cblxuXHRcdHJldHVybiAhaGFzRXJyb3JzO1xuXHR9O1xuXG5cdHZhciBhZGRGaWxlUHJldmlldyA9IGZ1bmN0aW9uKG5hdGl2ZUZpbGUsICRmaWxlVmlld0VsZW1lbnQpIHtcblx0XHR2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuXHRcdHZhciAkaW1nV3JhcHBlciA9ICQoJzxzcGFuIGNsYXNzPVwidGh1bWJuYWlsXCI+PC9zcGFuPicpO1xuXG5cdFx0cmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdFx0dmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG5cblx0XHRcdGlmIChpc0ltYWdlKG5hdGl2ZUZpbGUpKSB7XG5cdFx0XHRcdGltYWdlLnNyYyA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpbWFnZS5zcmMgPSBFTVBUWV9JTUFHRTtcblx0XHRcdH1cblxuXHRcdFx0aW1hZ2Uud2lkdGggPSAxMDA7XG5cblx0XHRcdCRmaWxlVmlld0VsZW1lbnQucHJlcGVuZCgkaW1nV3JhcHBlci5hcHBlbmQoaW1hZ2UpKTtcblx0XHR9O1xuXG5cdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwobmF0aXZlRmlsZSk7XG5cdH07XG5cblx0dmFyIGFkZEZpbGVUb1ZpZXcgPSBmdW5jdGlvbihuYXRpdmVGaWxlLCByZW1vdmVIYW5kbGVyKSB7XG5cdFx0dmFyIGZpbGVTaXplID0gZ2V0UmVhZGFibGVGaWxlU2l6ZShuYXRpdmVGaWxlKTtcblx0XHR2YXIgZmlsZVR5cGUgPSBnZXRSZWFkYWJsZUZpbGVUeXBlKG5hdGl2ZUZpbGUpO1xuXG5cdFx0dmFyICRmaWxlVmlld0VsZW1lbnQgPSAkKCc8bGkgY2xhc3M9XCJmaWxlXCI+PC9saT4nKTtcblxuXHRcdCRmaWxlVmlld0VsZW1lbnQuYXBwZW5kKFtcblx0XHRcdCc8c3BhbiBjbGFzcz1cImxhYmVsIG5hbWVcIj4nLFxuXHRcdFx0bmF0aXZlRmlsZS5uYW1lLFxuXHRcdFx0Jzwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsIHNpemVcIj4nLFxuXHRcdFx0ZmlsZVNpemUsXG5cdFx0XHQnPC9zcGFuPjxzcGFuIGNsYXNzPVwibGFiZWwgdHlwZVwiPicsXG5cdFx0XHRmaWxlVHlwZSxcblx0XHRcdCc8L3NwYW4+J1xuXHRcdF0uam9pbignJykpO1xuXG5cdFx0dmFyICRyZW1vdmVCdXR0b24gPSAkKCc8c3Bhbi8+Jyk7XG5cblx0XHQkZmlsZVZpZXdFbGVtZW50LmFwcGVuZCgkcmVtb3ZlQnV0dG9uKTtcblxuXHRcdCRyZW1vdmVCdXR0b24uYWRkQ2xhc3MoJ3JlbW92ZScpO1xuXG5cdFx0JHJlbW92ZUJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHQkZmlsZVZpZXdFbGVtZW50LnJlbW92ZSgpO1xuXG5cdFx0XHRyZW1vdmVIYW5kbGVyKCk7XG5cdFx0fSk7XG5cblx0XHRpZiAoaGFzRmlsZVJlYWRlcikge1xuXHRcdFx0YWRkRmlsZVByZXZpZXcobmF0aXZlRmlsZSwgJGZpbGVWaWV3RWxlbWVudCk7XG5cdFx0fVxuXG5cdFx0JGZpbGVWaWV3LmFwcGVuZCgkZmlsZVZpZXdFbGVtZW50KTtcblx0fTtcblxuXHR2YXIgZmlsZUlucHV0SWQgPSAwO1xuXG5cdHZhciBhZGROZXdGaWxlSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyICRmaWxlSW5wdXQgPSAkKCc8aW5wdXQvPicpO1xuXG5cdFx0ZmlsZUlucHV0SWQgKz0gMTtcblxuXHRcdCRmaWxlSW5wdXQuYXR0cignbmFtZScsICdmaWxlSW5wdXQnICsgZmlsZUlucHV0SWQpO1xuXHRcdCRmaWxlSW5wdXQuYXR0cigndHlwZScsICdmaWxlJyk7XG5cdFx0JGZpbGVJbnB1dC5hZGRDbGFzcygnZmlsZWlucHV0Jyk7XG5cblx0XHQkc2VsZWN0QnV0dG9uLnByZXBlbmQoJGZpbGVJbnB1dCk7XG5cblx0XHQkZmlsZUlucHV0Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVFcnJvcnMoZmFsc2UpO1xuXG5cdFx0XHR2YXIgbmF0aXZlRmlsZXMgPSB0b0FycmF5KCQodGhpcykucHJvcCgnZmlsZXMnKSk7XG5cblx0XHRcdGlmICghbmF0aXZlRmlsZXMubGVuZ3RoKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIG5hdGl2ZUZpbGUgPSBuYXRpdmVGaWxlc1swXTtcblxuXHRcdFx0aWYgKCF2YWxpZGF0ZUZpbGUobmF0aXZlRmlsZSkpIHtcblx0XHRcdFx0JGZpbGVJbnB1dC5yZW1vdmUoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRyYWNrRmlsZShuYXRpdmVGaWxlKTtcblxuXHRcdFx0XHQkZmlsZUlucHV0LmFwcGVuZFRvKCRmaWxlSW5wdXRzKTtcblxuXHRcdFx0XHRhZGRGaWxlVG9WaWV3KG5hdGl2ZUZpbGUsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR1bnRyYWNrRmlsZShuYXRpdmVGaWxlKTtcblxuXHRcdFx0XHRcdCRmaWxlSW5wdXQucmVtb3ZlKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRhZGROZXdGaWxlSW5wdXQoKTtcblx0XHR9KTtcblx0fTtcblxuXHRhZGROZXdGaWxlSW5wdXQoKTtcblxuXHR2YXIgY3JlYXRlRG5kSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdHJlbW92ZUVycm9ycyhmYWxzZSk7XG5cblx0XHR2YXIgbmF0aXZlRmlsZXMgPSB0b0FycmF5KGV2ZW50Lm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzKTtcblxuXHRcdHBhcnNlQmFzZTY0RmlsZXMobmF0aXZlRmlsZXMpLmRvbmUoZnVuY3Rpb24gKGJhc2U2NEZpbGVzKSB7XG5cdFx0XHRiYXNlNjRGaWxlcy5ldmVyeShmdW5jdGlvbiAoYmFzZTY0RmlsZSkge1xuXHRcdFx0XHR2YXIgbmF0aXZlRmlsZSA9IGJhc2U2NEZpbGUubmF0aXZlRmlsZTtcblxuXHRcdFx0XHRpZiAoIXZhbGlkYXRlRmlsZShuYXRpdmVGaWxlKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRyYWNrRmlsZShuYXRpdmVGaWxlKTtcblxuXHRcdFx0XHR2YXIgJGhpZGRlbkRhdGFGaWVsZCA9ICQoJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCI+Jyk7XG5cblx0XHRcdFx0JGhpZGRlbkRhdGFGaWVsZC52YWwoYmFzZTY0RmlsZS5kYXRhKTtcblx0XHRcdFx0JGhpZGRlbkRhdGFGaWVsZC5hdHRyKCduYW1lJywgJ2ZpbGU6JyArIG5hdGl2ZUZpbGUubmFtZSk7XG5cdFx0XHRcdCRoaWRkZW5EYXRhRmllbGQuYXBwZW5kVG8oJGZpbGVJbnB1dHMpO1xuXG5cdFx0XHRcdGFkZEZpbGVUb1ZpZXcobmF0aXZlRmlsZSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHVudHJhY2tGaWxlKG5hdGl2ZUZpbGUpO1xuXG5cdFx0XHRcdFx0JGhpZGRlbkRhdGFGaWVsZC5yZW1vdmUoKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fTtcblxuXHQkZHJvcEJveC5vbignZHJvcCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0bm9Qcm9wYWdhdGlvbihldmVudCk7XG5cdFx0JCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdFx0Y3JlYXRlRG5kSGFuZGxlcihldmVudCk7XG5cdH0pO1xuXG5cdCRkcm9wQm94Lm9uKCdkcmFnZW50ZXInLCBmdW5jdGlvbihldmVudCkge1xuXHRcdG5vUHJvcGFnYXRpb24oZXZlbnQpO1xuXHR9KTtcblxuXHQkZHJvcEJveC5vbignZHJhZ292ZXInLCBmdW5jdGlvbihldmVudCkge1xuXHRcdG5vUHJvcGFnYXRpb24oZXZlbnQpO1xuXHRcdCQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXHR9KTtcblxuXHQkZHJvcEJveC5vbignZHJhZ2xlYXZlJywgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRub1Byb3BhZ2F0aW9uKGV2ZW50KTtcblx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0fSk7XG5cblx0aWYgKCFoYXNGaWxlUmVhZGVyKSB7XG5cdFx0JGRyb3BCb3guaGlkZSgpO1xuXHR9XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRWFzeUZpbGVVcGxvYWRcblxuXG59LHt9XX0se30sWzFdKSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==