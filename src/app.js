!function e(i,n,r){function o(l,a){if(!n[l]){if(!i[l]){var f="function"==typeof require&&require;if(!a&&f)return f(l,!0);if(t)return t(l,!0);throw new Error("Cannot find module '"+l+"'")}var s=n[l]={exports:{}};i[l][0].call(s.exports,function(e){var n=i[l][1][e];return o(n?n:e)},s,s.exports,e,i,n,r)}return n[l].exports}for(var t="function"==typeof require&&require,l=0;l<r.length;l++)o(r[l]);return o}({1:[function(e){var i=e("./lib/fileupload.js"),n=function(){var e=this,n=e.querySelector(".js_fileupload"),r=n.querySelector(".js_fileinput"),o=(n.querySelector(".js_dropbox"),e.querySelector(".js_list"),{dropBox:!1}),n=new i(r,"/",o)};$(document).ready(n)},{"./lib/fileupload.js":4}],2:[function(e,i){var n=function(e,i){e.on("drop",function(e){e.stopPropagation(),e.preventDefault();var n=e.originalEvent.dataTransfer.files;i(n)}),e.on("dragenter",function(e){e.preventDefault()}),e.on("dragleave",function(e){e.preventDefault()}),e.on("dragover",function(e){e.preventDefault()})};i.exports=n},{}],3:[function(e,i){var n=function(e,i){this.previewFile=function(n){if(i.tests.filereader===!0&&i.acceptedTypes[n.type]===!0){var r=new FileReader;r.onload=function(n){var r=new Image;r.src=n.target.result,r.width=i.filePreview.thumbnailSize,e.append(r)},r.readAsDataURL(n)}else $previewlist.innerHTML+="<p>Uploaded "+n.name+" "+(n.size?(n.size/1024|0)+"K":""),console.log(n)}};i.exports=n},{}],4:[function(e,i){var n=e("./dropbox.js"),r=e("./filepreview.js"),o=function(e,i,o){var t=this,l={},a={tests:{filereader:"undefined"!=typeof FileReader,file:"undefined"!=typeof File,fileList:"undefined"!=typeof Filelist,blob:"undefined"!=typeof Blob,dnd:"draggable"in document.createElement("span"),formdata:!!window.FormData},fileSizeLimit:3e3,fileNumberLimit:3,dropBox:null,list:null,filePreview:{el:null,thumbnailSize:50},progess:!1,errormessages:{FileSizeLimit:"We allow Files with a max. filesize of 3 MB.",fileNumberLimit:"The allowed number of fileuploads is 3."},acceptedTypes:{"image/png":!0,"image/jpeg":!0,"image/gif":!0}},f=function(){for(var e in a)a.hasOwnProperty(e)&&(l[e]=o&&"undefined"!=typeof o[e]?o[e]:a[e],"function"==typeof l[e]&&(l[e]=l[e].bind(t)));l.dropBox&&(t.dropbox=p()),l.filePreview&&(t.filePreview=d()),console.log(l)},s=function(e){return Math.floor(e/1e3)},u=function(e){var i=$('<li class="file"></li>');i.html('<span class="name">'+e.name+' </span><span class="type">'+e.type+' </span><span class="size">'+s(e.size)+" KB</span> "),l.list.append(i)},p=function(){return l.tests.dnd&&n?new n(l.dropBox,t.uploadFiles):void 0},d=function(){return l.filePreview&&l.tests.filereader?new r(l.filePreview.el,l):void 0},c=function(e){xhr=new XMLHttpRequest;for(var i=0;i<e.length;i++){var n=e[i];n.xhr=xhr}},v=function(e){l.filePreview?t.filePreview.previewFile(e):u(e)},w=function(e){console.log("fileUploadFailed"),console.log(e)},m=function(e,i){e.done(function(){v(i)}),e.fail(function(){w(i)})};this.uploadFiles=function(e){var i=c(e);m(i,file)},f()};i.exports=o},{"./dropbox.js":2,"./filepreview.js":3}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlcyI6WyJhcHAuanMiXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsIkVycm9yIiwiZiIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwxLCJGaWxldXBsb2FkIiwiaW5pdGlhbGl6ZUZpbGVVcGxvYWQiLCJjb250YWN0Zm9ybSIsInRoaXMiLCJmaWxlVXBsb2FkIiwicXVlcnlTZWxlY3RvciIsImZpbGVJbnB1dCIsIm9wdGlvbnMiLCJkcm9wQm94IiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCIuL2xpYi9maWxldXBsb2FkLmpzIiwyLCJtb2R1bGUiLCJEcm9wQm94IiwiJGRyb3BCb3giLCJ1cGxvYWRGaWxlc0NhbGxiYWNrIiwib24iLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImZpbGVEYXRhIiwib3JpZ2luYWxFdmVudCIsImRhdGFUcmFuc2ZlciIsImZpbGVzIiwzLCJGaWxlUHJldmlldyIsIiRwcmV2aWV3TGlzdCIsInByZXZpZXdGaWxlIiwiZmlsZSIsInRlc3RzIiwiZmlsZXJlYWRlciIsImFjY2VwdGVkVHlwZXMiLCJ0eXBlIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImV2ZW50IiwiaW1hZ2UiLCJJbWFnZSIsInNyYyIsInRhcmdldCIsInJlc3VsdCIsIndpZHRoIiwiZmlsZVByZXZpZXciLCJ0aHVtYm5haWxTaXplIiwiYXBwZW5kIiwicmVhZEFzRGF0YVVSTCIsIiRwcmV2aWV3bGlzdCIsImlubmVySFRNTCIsIm5hbWUiLCJzaXplIiwiY29uc29sZSIsImxvZyIsNCwidXJsIiwib3B0cyIsInNlbGYiLCJkZWZhdWx0T3B0aW9ucyIsIkZpbGUiLCJmaWxlTGlzdCIsIkZpbGVsaXN0IiwiYmxvYiIsIkJsb2IiLCJkbmQiLCJjcmVhdGVFbGVtZW50IiwiZm9ybWRhdGEiLCJ3aW5kb3ciLCJGb3JtRGF0YSIsImZpbGVTaXplTGltaXQiLCJmaWxlTnVtYmVyTGltaXQiLCJsaXN0IiwiZWwiLCJwcm9nZXNzIiwiZXJyb3JtZXNzYWdlcyIsIkZpbGVTaXplTGltaXQiLCJpbWFnZS9wbmciLCJpbWFnZS9qcGVnIiwiaW1hZ2UvZ2lmIiwiaW5pdCIsImhhc093blByb3BlcnR5IiwiYmluZCIsImRyb3Bib3giLCJpbml0RHJvcEJveCIsImluaXRGaWxlUHJldmlldyIsImNhbGNGaWxlU2l6ZSIsIk1hdGgiLCJmbG9vciIsImFkZEZpbGVEYXRhVG9ET00iLCIkbGlzdEVsZW1lbnQiLCJodG1sIiwidXBsb2FkRmlsZXMiLCJzZW5kRGF0YSIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib25GaWxlVXBsb2FkRG9uZSIsIm9uRmlsZVVwbG9hZEZhaWwiLCJoYW5kbGVBamF4UmVzcG9uc2UiLCJwcm9taXNlIiwiZG9uZSIsImZhaWwiLCIuL2Ryb3Bib3guanMiLCIuL2ZpbGVwcmV2aWV3LmpzIl0sIm1hcHBpbmdzIjoiQ0FBQSxRQUFVQSxHQUFFQyxFQUFFQyxFQUFFQyxHQUFHLFFBQVNDLEdBQUVDLEVBQUVDLEdBQUcsSUFBSUosRUFBRUcsR0FBRyxDQUFDLElBQUlKLEVBQUVJLEdBQUcsQ0FBQyxHQUFJRSxHQUFrQixrQkFBVEMsVUFBcUJBLE9BQVEsS0FBSUYsR0FBR0MsRUFBRSxNQUFPQSxHQUFFRixHQUFFLEVBQUksSUFBR0ksRUFBRSxNQUFPQSxHQUFFSixHQUFFLEVBQUksTUFBTSxJQUFJSyxPQUFNLHVCQUF1QkwsRUFBRSxLQUFLLEdBQUlNLEdBQUVULEVBQUVHLElBQUlPLFdBQVlYLEdBQUVJLEdBQUcsR0FBR1EsS0FBS0YsRUFBRUMsUUFBUSxTQUFTWixHQUFHLEdBQUlFLEdBQUVELEVBQUVJLEdBQUcsR0FBR0wsRUFBRyxPQUFPSSxHQUFFRixFQUFFQSxFQUFFRixJQUFJVyxFQUFFQSxFQUFFQyxRQUFRWixFQUFFQyxFQUFFQyxFQUFFQyxHQUFHLE1BQU9ELEdBQUVHLEdBQUdPLFFBQWtELElBQUksR0FBMUNILEdBQWtCLGtCQUFURCxVQUFx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Y2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgRmlsZXVwbG9hZCAgPSByZXF1aXJlKCcuL2xpYi9maWxldXBsb2FkLmpzJyk7XG5cbnZhciBpbml0aWFsaXplRmlsZVVwbG9hZCA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgY29udGFjdGZvcm0gPSB0aGlzO1xuXHR2YXIgZmlsZVVwbG9hZCA9IGNvbnRhY3Rmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5qc19maWxldXBsb2FkJyk7XG5cdHZhciBmaWxlSW5wdXQgPSBmaWxlVXBsb2FkLnF1ZXJ5U2VsZWN0b3IoJy5qc19maWxlaW5wdXQnKTtcblx0dmFyIGRyb3BCb3ggPSBmaWxlVXBsb2FkLnF1ZXJ5U2VsZWN0b3IoJy5qc19kcm9wYm94Jyk7XG5cdHZhciBsaXN0ID0gY29udGFjdGZvcm0ucXVlcnlTZWxlY3RvcignLmpzX2xpc3QnKTtcblxuXHQvLyBjb25zb2xlLmxvZyhsaXN0KTtcblx0Ly8gY29uc29sZS5sb2coZHJvcEJveCk7XG5cdC8vIGNvbnNvbGUubG9nKGZpbGVJbnB1dCk7XG5cdC8vIGNvbnNvbGUubG9nKGZpbGVVcGxvYWQpO1xuXG5cdC8vIEZvciBTaW1wbGUgRmlsZSBEaXNwbGF5XG5cdC8vIHZhciAkbGlzdCA9ICRmaWxlVXBsb2FkLmZpbmQoJy5qc19saXN0Jyk7XG5cblx0dmFyIG9wdGlvbnMgPSB7XG5cdFx0ZHJvcEJveDogZmFsc2Vcblx0fTtcblxuXHR2YXIgZmlsZVVwbG9hZCA9IG5ldyBGaWxldXBsb2FkKGZpbGVJbnB1dCwgJy8nLCBvcHRpb25zKTtcbn07XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGluaXRpYWxpemVGaWxlVXBsb2FkKTtcblxufSx7XCIuL2xpYi9maWxldXBsb2FkLmpzXCI6NH1dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIERyb3BCb3ggPSBmdW5jdGlvbiAoJGRyb3BCb3gsIHVwbG9hZEZpbGVzQ2FsbGJhY2spe1xuXG5cdC8qKlxuXHQgKiBEcmFnbkRyb3AgRXZlbnRsaXN0ZW5lclxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IGUgW2Rlc2NyaXB0aW9uXVxuXHQgKiBAcmV0dXJuIHtbdHlwZV19ICAgW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0JGRyb3BCb3gub24oJ2Ryb3AnLCBmdW5jdGlvbihlKXtcblx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgZmlsZURhdGEgPSBlLm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzO1xuXHRcdHVwbG9hZEZpbGVzQ2FsbGJhY2soZmlsZURhdGEpO1xuXHR9KTtcblxuXHQkZHJvcEJveC5vbignZHJhZ2VudGVyJywgZnVuY3Rpb24oZSl7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9KTtcblxuXHQkZHJvcEJveC5vbignZHJhZ2xlYXZlJywgZnVuY3Rpb24oZSl7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9KTtcblxuXHQkZHJvcEJveC5vbignZHJhZ292ZXInLCBmdW5jdGlvbihlKXtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERyb3BCb3g7XG5cbn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIEZpbGVQcmV2aWV3ID0gZnVuY3Rpb24oJHByZXZpZXdMaXN0LCBvcHRpb25zKXtcblxuXHQvKipcblx0ICogW3ByZXZpZXdGaWxlIGRlc2NyaXB0aW9uXVxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IGZpbGUgW2Rlc2NyaXB0aW9uXVxuXHQgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0dGhpcy5wcmV2aWV3RmlsZSA9IGZ1bmN0aW9uKGZpbGUpe1xuXHRcdGlmIChvcHRpb25zLnRlc3RzLmZpbGVyZWFkZXIgPT09IHRydWUgJiYgb3B0aW9ucy5hY2NlcHRlZFR5cGVzW2ZpbGUudHlwZV0gPT09IHRydWUpIHtcblx0XHRcdHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdFx0cmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdFx0XHR2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblx0XHRcdFx0XHRpbWFnZS5zcmMgPSBldmVudC50YXJnZXQucmVzdWx0O1xuXHRcdFx0XHRcdGltYWdlLndpZHRoID0gb3B0aW9ucy5maWxlUHJldmlldy50aHVtYm5haWxTaXplOyAvLyBhIGZha2UgcmVzaXplXG5cdFx0XHRcdFx0JHByZXZpZXdMaXN0LmFwcGVuZChpbWFnZSk7XG5cdFx0XHR9O1xuXHRcdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCRwcmV2aWV3bGlzdC5pbm5lckhUTUwgKz0gJzxwPlVwbG9hZGVkICcgKyBmaWxlLm5hbWUgKyAnICcgKyAoZmlsZS5zaXplID8gKGZpbGUuc2l6ZS8xMDI0fDApICsgJ0snIDogJycpO1xuXHRcdFx0Y29uc29sZS5sb2coZmlsZSk7XG5cdFx0fVxuXHR9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBGaWxlUHJldmlldztcblxuXG5cbn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIERyb3BCb3ggICAgID0gcmVxdWlyZSgnLi9kcm9wYm94LmpzJyk7XG52YXIgRmlsZVByZXZpZXcgPSByZXF1aXJlKCcuL2ZpbGVwcmV2aWV3LmpzJyk7XG5cbnZhciBGaWxldXBsb2FkID0gZnVuY3Rpb24oZmlsZUlucHV0LCB1cmwsIG9wdHMpe1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0dmFyIG9wdGlvbnMgPSB7fTtcblx0dmFyIHNlbGVjdGVkRmlsZXMgPSBbXTtcblxuXHR2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG5cdFx0LyoqXG5cdFx0ICogVGVzdHMgdG8gZW5zdXJlIHRoYXQgRmlsZXJlYWRlciwgRHJhZ25Ecm9wIGFuZCBGb3JtRGF0YSBhcmUgbm90IHVuZGVmaW5lZFxuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICovXG5cdFx0dGVzdHM6IHtcblx0XHRcdGZpbGVyZWFkZXI6IHR5cGVvZiBGaWxlUmVhZGVyICE9PSAndW5kZWZpbmVkJyxcblx0XHRcdGZpbGUgOiB0eXBlb2YgRmlsZSAhPT0gJ3VuZGVmaW5lZCcsXG5cdFx0XHRmaWxlTGlzdDogdHlwZW9mIEZpbGVsaXN0ICE9PSAndW5kZWZpbmVkJyxcblx0XHRcdGJsb2I6IHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyxcblx0XHRcdGRuZDogJ2RyYWdnYWJsZScgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpLFxuXHRcdFx0Zm9ybWRhdGE6ICEhd2luZG93LkZvcm1EYXRhXG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIE1heGltdW1GaWxlU2l6ZVxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICovXG5cdFx0ZmlsZVNpemVMaW1pdDogMzAwMCxcblxuXHRcdC8qKlxuXHRcdCAqIE1heC4gTnVtYmVyIG9mIEZpbGVzXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKi9cblx0XHRmaWxlTnVtYmVyTGltaXQ6IDMsXG5cblx0XHQvKipcblx0XHQgKiBJZiBudWxsIHRoZXJlIGlzIG5vIERyYWduRHJvcCBGdW5jdGlvbmFsaXR5XG5cdFx0ICogaGFzIHRvIGJlIGEgJG9iamVjdFxuXHRcdCAqL1xuXHRcdGRyb3BCb3g6IG51bGwsXG5cblx0XHQvKipcblx0XHQgKiBIYXMgdG8gYmUgZGVmaW5lZCBieSB0aGUgdXNlciB0byBkaXNwbGF5IGEgbGlzdFxuXHRcdCAqIGhhcyB0byBiZSBhICRvYmplY3Rcblx0XHQgKi9cblx0XHRsaXN0OiBudWxsLFxuXG5cdFx0LyoqXG5cdFx0ICogSWYgZW5hYmxlZCBhbiBlbmFuY2VkIERhdGFMaXN0IHdpdGggZmlsZXByZXZpZXcgaXMgcmVuZGVyZWQgaW5zdGVhZCBvZiB0aGUgbm9ybWFsIGxpc3Rcblx0XHQgKiBJZiBub3QgZmFsc2UgdGhlbiBpdCBoYXMgdG8gYmUgYSAkb2JqZWN0XG5cdFx0ICogQHR5cGUge0Jvb2xlYW59XG5cdFx0ICovXG5cdFx0ZmlsZVByZXZpZXc6IHsgZWw6IG51bGwsIHRodW1ibmFpbFNpemU6IDUwfSxcblxuXHRcdC8qKlxuXHRcdCAqIElmIGVuYWJsZWQgdGhlIFByb2dlc3MgaXMgZGlzcGxheWVkIHdoaWxlIHVwbG9hZGluZyBhIGZpbGUuXG5cdFx0ICogSWYgbm90IGZhbHNlIHRoZW4gaXQgaGFzIHRvIGJlIGEgJG9iamVjdFxuXHRcdCAqIEB0eXBlIHtCb29sZWFufVxuXHRcdCAqL1xuXHRcdHByb2dlc3M6IGZhbHNlLFxuXG5cdFx0LyoqXG5cdFx0ICogRGVmYXVsdCBlcnJvcm1lc3NhZ2VzXG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKi9cblx0XHRlcnJvcm1lc3NhZ2VzOntcblx0XHRcdEZpbGVTaXplTGltaXQ6IFwiV2UgYWxsb3cgRmlsZXMgd2l0aCBhIG1heC4gZmlsZXNpemUgb2YgMyBNQi5cIixcblx0XHRcdGZpbGVOdW1iZXJMaW1pdDogXCJUaGUgYWxsb3dlZCBudW1iZXIgb2YgZmlsZXVwbG9hZHMgaXMgMy5cIlxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBEZWZhdWx0IGFjY2VwdGVkIHR5cGVzLCBjYW4gYmUgZXh0ZW5kZWQgd2l0aCBmdXJ0aGVyIGRhdGEgZm9ybWF0c1xuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICovXG5cdFx0YWNjZXB0ZWRUeXBlczogeyAnaW1hZ2UvcG5nJzogdHJ1ZSwgJ2ltYWdlL2pwZWcnOiB0cnVlLCAnaW1hZ2UvZ2lmJzogdHJ1ZX1cblx0fTtcblxuXG5cblxuXHR2YXIgaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHRcdC8qKlxuXHRcdCAqIE1lcmdlIGRlZmF1bHRvcHRpb25zIGFuZCB1c2Vyb3B0aW9uc1xuXHRcdCAqL1xuXHRcdGZvciAodmFyIGkgaW4gZGVmYXVsdE9wdGlvbnMpIHtcblx0XHRcdGlmIChkZWZhdWx0T3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuXHRcdFx0XHRvcHRpb25zW2ldID0gb3B0cyAmJiB0eXBlb2Yob3B0c1tpXSkgIT09ICd1bmRlZmluZWQnID8gb3B0c1tpXSA6IGRlZmF1bHRPcHRpb25zW2ldO1xuXHRcdFx0XHRpZiAodHlwZW9mKG9wdGlvbnNbaV0pID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0b3B0aW9uc1tpXSA9IG9wdGlvbnNbaV0uYmluZChzZWxmKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmKG9wdGlvbnMuZHJvcEJveCl7XG5cdFx0XHRzZWxmLmRyb3Bib3ggPSBpbml0RHJvcEJveCgpO1xuXHRcdH07XG5cblx0XHRpZihvcHRpb25zLmZpbGVQcmV2aWV3KXtcblx0XHRcdHNlbGYuZmlsZVByZXZpZXcgPSBpbml0RmlsZVByZXZpZXcoKTtcblx0XHR9O1xuXG5cdFx0Y29uc29sZS5sb2cob3B0aW9ucyk7XG5cblx0XHQvKipcblx0XHQgKiBbZGVzY3JpcHRpb25dXG5cdFx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG5cdFx0ICovXG5cdFx0Ly8gJGZpbGVJbnB1dC5vbignY2hhbmdlJywgZnVuY3Rpb24oKXtcblx0XHQvLyBcdHZhciBmaWxlRGF0YSA9ICQodGhpcykucHJvcCgnZmlsZXMnKTtcblx0XHQvLyBcdHNlbGYudXBsb2FkRmlsZXMoZmlsZURhdGEpO1xuXHRcdC8vIH0pO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBbZ2V0RmlsZVNpemUgZGVzY3JpcHRpb25dXG5cdCAqIEBwYXJhbSAge1t0eXBlXX0gc2l6ZSBbZGVzY3JpcHRpb25dXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gICAgICBbZGVzY3JpcHRpb25dXG5cdCAqL1xuXHR2YXIgY2FsY0ZpbGVTaXplID0gZnVuY3Rpb24oc2l6ZSl7XG5cdFx0cmV0dXJuIE1hdGguZmxvb3Ioc2l6ZS8xMDAwKTtcblx0fTtcblxuXHQvKipcblx0ICogW3Nob3dEYXRhIGRlc2NyaXB0aW9uXVxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IGZpbGUgW2Rlc2NyaXB0aW9uXVxuXHQgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0dmFyIGFkZEZpbGVEYXRhVG9ET00gPSBmdW5jdGlvbihmaWxlKXtcblx0XHR2YXIgJGxpc3RFbGVtZW50ID0gJCgnPGxpIGNsYXNzPVwiZmlsZVwiPjwvbGk+Jyk7XG5cdFx0JGxpc3RFbGVtZW50Lmh0bWwoJzxzcGFuIGNsYXNzPVwibmFtZVwiPicgKyBmaWxlLm5hbWUgKyAnIDwvc3Bhbj48c3BhbiBjbGFzcz1cInR5cGVcIj4nICsgZmlsZS50eXBlICsgJyA8L3NwYW4+PHNwYW4gY2xhc3M9XCJzaXplXCI+JyArIGNhbGNGaWxlU2l6ZShmaWxlLnNpemUpICsgJyBLQjwvc3Bhbj4gJyk7XG5cdFx0b3B0aW9ucy5saXN0LmFwcGVuZCgkbGlzdEVsZW1lbnQpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBbaW5pdERyb3BCb3ggZGVzY3JpcHRpb25dXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0dmFyIGluaXREcm9wQm94ID0gZnVuY3Rpb24oKXtcblx0XHRpZihvcHRpb25zLnRlc3RzLmRuZCAmJiBEcm9wQm94KXtcblx0XHRcdHJldHVybiBuZXcgRHJvcEJveChvcHRpb25zLmRyb3BCb3gsIHNlbGYudXBsb2FkRmlsZXMpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogW2luaXRQcm9nZXNzIGRlc2NyaXB0aW9uXVxuXHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cblx0ICovXG5cdHZhciBpbml0UHJvZ2VzcyA9IGZ1bmN0aW9uKCl7XG5cdFx0aWYob3B0aW9ucy5wcm9nZXNzYmFyKXtcblx0XHRcdHJldHVybiBuZXcgUHJvZ3Jlc3MoKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIFtpbml0RmlsZXByZXZpZXcgZGVzY3JpcHRpb25dXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0dmFyIGluaXRGaWxlUHJldmlldyA9IGZ1bmN0aW9uKCl7XG5cdFx0aWYob3B0aW9ucy5maWxlUHJldmlldyAmJiBvcHRpb25zLnRlc3RzLmZpbGVyZWFkZXIpIHtcblx0XHRcdHJldHVybiBuZXcgRmlsZVByZXZpZXcob3B0aW9ucy5maWxlUHJldmlldy5lbCwgb3B0aW9ucyk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBbdXBsb2FkRmlsZSBkZXNjcmlwdGlvbl1cblx0ICogQHBhcmFtICB7W3R5cGVdfSBmaWxlcyBbZGVzY3JpcHRpb25dXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0dmFyIHNlbmREYXRhID0gZnVuY3Rpb24oZmlsZXMpe1xuICAgICAgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICBmb3IodmFyIGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspe1xuICAgICAgXHR2YXIgZmlsZSA9IGZpbGVzW2ldO1xuICAgICAgXHRmaWxlLnhociA9IHhocjtcbiAgICAgIH1cblxuXHRcdC8vIHZhciBwcm9taXNlID0gJC5hamF4KHtcblx0XHQvLyBcdHVybDogdXJsLFxuXHRcdC8vIFx0dHlwZTogJ1BPU1QnLFxuXHRcdC8vIFx0Y2FjaGU6IGZhbHNlLFxuXHRcdC8vIFx0Y29udGVudFR5cGU6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJyxcblx0XHQvLyBcdHByb2Nlc3NEYXRhOiBmYWxzZSxcblx0XHQvLyBcdGRhdGE6IGZpbGVkYXRhXG5cdFx0Ly8gfSk7XG5cblx0XHQvLyByZXR1cm4gcHJvbWlzZTtcblxuXHR9O1xuXG5cdHZhciBvbkZpbGVVcGxvYWREb25lID0gZnVuY3Rpb24oZmlsZSl7XG5cdFx0aWYob3B0aW9ucy5maWxlUHJldmlldyl7XG5cdFx0XHRzZWxmLmZpbGVQcmV2aWV3LnByZXZpZXdGaWxlKGZpbGUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhZGRGaWxlRGF0YVRvRE9NKGZpbGUpO1xuXHRcdH1cblx0fTtcblxuXHR2YXIgb25GaWxlVXBsb2FkRmFpbCA9IGZ1bmN0aW9uKGZpbGUpe1xuXHRcdGNvbnNvbGUubG9nKCdmaWxlVXBsb2FkRmFpbGVkJyk7XG5cdFx0Y29uc29sZS5sb2coZmlsZSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEhhbmRsZSB0aGUgQWpheCBSZXNwb25zZSBhbmQgbm90aWZpZXMgdGhlIHJpZ2h0IENhbGxiYWNrc1xuXHQgKiBAcGFyYW0gIHtbdHlwZV19IHByb21pc2UgW2Rlc2NyaXB0aW9uXVxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IGZpbGUgICAgW2Rlc2NyaXB0aW9uXVxuXHQgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0dmFyIGhhbmRsZUFqYXhSZXNwb25zZSA9IGZ1bmN0aW9uKHByb21pc2UsIGZpbGUpe1xuXHRcdC8qKlxuXHRcdCAqIE5vdGlmaWVzIGNhbGxiYWNrIG9uIHN1Y2Nlc3Ncblx0XHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cblx0XHQgKi9cblx0XHRwcm9taXNlLmRvbmUoZnVuY3Rpb24oKSB7XG5cdFx0XHRvbkZpbGVVcGxvYWREb25lKGZpbGUpO1xuXHRcdH0pO1xuXG5cdFx0LyoqXG5cdFx0ICogTm90aWZpZXMgY2FsbGJhY2sgb24gZmFpbFxuXHRcdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuXHRcdCAqL1xuXHRcdHByb21pc2UuZmFpbChmdW5jdGlvbigpIHtcblx0XHRcdG9uRmlsZVVwbG9hZEZhaWwoZmlsZSk7XG5cdFx0fSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemUgdGhlIFVwbG9hZCBmb3IgZWFjaCBzZWxlY3RlZCBGaWxlXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0dGhpcy51cGxvYWRGaWxlcyA9IGZ1bmN0aW9uKGZpbGVEYXRhKXtcblx0XHRcdHZhciBwcm9taXNlID0gc2VuZERhdGEoZmlsZURhdGEpO1xuXHRcdFx0aGFuZGxlQWpheFJlc3BvbnNlKHByb21pc2UsIGZpbGUpO1xuXHR9O1xuXG5cdGluaXQoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRmlsZXVwbG9hZDtcblxufSx7XCIuL2Ryb3Bib3guanNcIjoyLFwiLi9maWxlcHJldmlldy5qc1wiOjN9XX0se30sWzFdKSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==